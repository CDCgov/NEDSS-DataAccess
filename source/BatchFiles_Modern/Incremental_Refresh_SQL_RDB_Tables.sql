USE RDB;

DROP TABLE PERSON_RACE;
DROP TABLE PERSON_ETHNICITY;
DROP TABLE PERSON_NAME;
DROP TABLE PERSON_CONTACT;
DROP TABLE PERSON_LOCATION;
DROP TABLE ORG_ROLE;
DROP TABLE ORG_CONTACT;
DROP TABLE ORG_LOCATION;
DROP TABLE RACE;
DROP TABLE DETAIL_ETHNICITY;
DROP TABLE NAME;
DROP TABLE CONTACT_INFO;
DROP TABLE ORG_ROLE_CODE;

DROP TABLE PERSON_RELATIONSHIP;
DROP TABLE PERSON_ID;
DROP TABLE ORG_ID;
DROP TABLE Case_Count;
DROP TABLE GENERIC_CASE;
DROP TABLE CRS_CASE;
DROP TABLE Measles_CASE;
DROP TABLE RUBELLA_CASE;

DROP TABLE NOTIFICATION_EVENT;
DROP TABLE NOTIFICATION;


DROP TABLE TREATMENT_EVENT;
DROP TABLE TREATMENT;
DROP TABLE VACCINATION;
DROP TABLE HEP_MULTI_VALUE_FIELD;
DROP TABLE HEPATITIS_CASE;
DROP TABLE HEP_MULTI_VALUE_FIELD_GROUP;

DROP TABLE Bmird_CASE;
DROP TABLE ANTIBIOTICS;
DROP TABLE ANTIBIOTICS_GROUP;
DROP TABLE ANTIMICROBIAL;
DROP TABLE ANTIMICROBIAL_GROUP;
DROP TABLE BMIRD_MULTI_VALUE_FIELD;
DROP TABLE BMIRD_MULTI_VALUE_FIELD_GROUP;


DROP TABLE Pertussis_CASE;
DROP TABLE PERTUSSIS_SUSPECTED_SOURCE_FLD;
DROP TABLE PERTUSSIS_SUSPECTED_SOURCE_GRP;
DROP TABLE PERTUSSIS_TREATMENT_FIELD;
DROP TABLE PERTUSSIS_TREATMENT_GROUP;



DROP TABLE LAB_RESULT_VAL;
DROP TABLE LAB_RESULT_COMMENT;
DROP TABLE LAB_TEST_RESULT;
DROP TABLE TEST_RESULT_GROUPING;
DROP TABLE RESULT_COMMENT_GROUP;
DROP TABLE LAB_RPT_USER_COMMENT;
DROP TABLE LAB_TEST;
DROP TABLE MORB_RPT_USER_COMMENT;
DROP TABLE MORBIDITY_REPORT_EVENT;
DROP TABLE MORBIDITY_REPORT;


DROP TABLE SUMMARY_REPORT_CASE;
DROP TABLE SUMMARY_CASE_GROUP;


DROP TABLE LDF_Data;
DROP TABLE Person_LDF_Group;
DROP TABLE Organization_LDF_Group;
DROP TABLE LDF_Group;


DROP TABLE Confirmation_method_Group;
DROP TABLE Confirmation_method;
DROP TABLE HEP100;
DROP TABLE INVESTIGATION;
--DELETE FROM NEDSS_LINK WHERE SOURCE_NAME = 'NBS'



DROP TABLE LOCATION;

DROP TABLE GEOCODING_LOCATION;
DROP TABLE PERSON_LDF_CLINIC;
DROP TABLE CLINIC_VISITED;
DROP TABLE PERSON_FACT;
DROP TABLE COUNTRY_TRAVELED_TO_LDF;
DROP TABLE PERSON_LDF;

DROP TABLE DRUG_RESULT;
DROP TABLE ORGANISM_RESULT_VALUE;




DROP TABLE LAB_RESULT_CONDITION;
DROP TABLE LAB_RESULT_GROUP;
DROP TABLE Condition;
DROP TABLE RDB_DATE;


DROP TABLE CODE_VAL_GENERAL;
DROP TABLE CODESET;


DROP TABLE EVENT_METRIC;

DROP TABLE SR100;
DROP TABLE LAB100;
DROP TABLE LAB101;
DROP TABLE F_TB_PAM;
DROP TABLE F_VAR_PAM;

DELETE FROM S_TB_PAM;
DELETE FROM S_TB_HIV;
DELETE FROM S_TB_PAM_CASE_ENTITY;
DELETE FROM S_MOVE_STATE;
DELETE FROM S_HC_PROV_TY_3;
DELETE FROM S_DISEASE_SITE;
DELETE FROM S_ADDL_RISK;
DELETE FROM S_MOVE_CNTY;
DELETE FROM S_GT_12_REAS;
DELETE FROM S_MOVE_CNTRY;
DELETE FROM S_MOVED_WHERE;
DELETE FROM S_SMR_EXAM_TY;
DELETE FROM S_OUT_OF_CNTRY;

DELETE FROM S_VAR_PAM;
DELETE FROM S_VAR_PAM_CASE_ENTITY;
DELETE FROM S_RASH_LOC_GEN;
DELETE FROM S_PCR_SOURCE;



DELETE FROM TB_DATAMART;
DELETE FROM TB_HIV_DATAMART;

DELETE FROM VAR_DATAMART;
DROP TABLE ORGANIZATION;

DROP TABLE PERSON;

drop table user_profile;

DROP VIEW REJECTED_NND;

DROP VIEW ORG_LINE_LIST;

DROP VIEW LAB_TEST_REPORT;

CREATE TABLE dbo.ANTIBIOTICS (
       ANTIBIOTICS_KEY      numeric NOT NULL,
       ANTIBIOTICS_GRP_KEY  numeric NOT NULL,
       INTRAPARTUM_ANTIBIOTICS_NM varchar(50) NULL,
       INTRAPARTUM_ANTIBIOTICS_METHOD varchar(50) NULL,
       INTRAPARTUMANTIBIOTICS_STARTDT datetime NULL,
       INTRAPARTUMANTIBIOTICS_STOPDT datetime NULL,
       INTRAPARTUM_ANTIBIOTICS_DOSE numeric NULL
)
go


ALTER TABLE dbo.ANTIBIOTICS
       ADD PRIMARY KEY (ANTIBIOTICS_KEY, ANTIBIOTICS_GRP_KEY)
go


CREATE TABLE dbo.ANTIBIOTICS_GROUP (
       ANTIBIOTICS_GRP_KEY  numeric NOT NULL
)
go


ALTER TABLE dbo.ANTIBIOTICS_GROUP
       ADD PRIMARY KEY (ANTIBIOTICS_GRP_KEY)
go


CREATE TABLE dbo.ANTIMICROBIAL (
       ANTIMICROBIAL_GRP_KEY numeric NOT NULL,
       ANTIMICROBIAL_AGENT_TESTED_IND varchar(50) NULL,
       SUSCEPTABILITY_METHOD varchar(50) NULL,
       S_I_R_U_RESULT       varchar(50) NULL,
       MIC_SIGN             varchar(50) NULL,
       MIC_VALUE            numeric NULL,
       ANTIMICROBIAL_KEY    numeric NOT NULL
)
go


ALTER TABLE dbo.ANTIMICROBIAL
       ADD PRIMARY KEY (ANTIMICROBIAL_GRP_KEY, ANTIMICROBIAL_KEY)
go


CREATE TABLE dbo.ANTIMICROBIAL_GROUP (
       ANTIMICROBIAL_GRP_KEY numeric NOT NULL
)
go


ALTER TABLE dbo.ANTIMICROBIAL_GROUP
       ADD PRIMARY KEY (ANTIMICROBIAL_GRP_KEY)
go


CREATE TABLE dbo.BMIRD_CASE (
       INVESTIGATOR_KEY     numeric NOT NULL,
       PHYSICIAN_KEY        numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       REPORTER_KEY         numeric NOT NULL,
       NURSING_HOME_KEY     numeric NOT NULL,
       DAYCARE_FACILITY_KEY numeric NOT NULL,
       TRANSFERED_IND       VARCHAR(50) NULL,
       INV_ASSIGNED_DT_KEY  numeric NOT NULL,
       BIRTH_WEIGHT_IN_GRAMS numeric NULL,
       BIRTH_WEIGHT_POUNDS  numeric NULL,
       WEIGHT_IN_POUNDS  numeric NULL,
       WEIGHT_IN_OUNCES  numeric NULL,
       WEIGHT_IN_KILOGRAM  numeric NULL,
       WEIGHT_UNKNOWN  VARCHAR(50) NULL,
       HEIGHT_IN_FEET  numeric NULL,
       HEIGHT_IN_INCHES  numeric NULL,
       HEIGHT_IN_CENTIMETERS  numeric NULL,
       HEIGHT_UNKNOWN VARCHAR(50) NULL,
       OTH_STREP_PNEUMO1_CULT_SITES  VARCHAR(50) NULL,
       OTH_STREP_PNEUMO2_CULT_SITES  VARCHAR(50) NULL,
       IHC_SPECIMEN_1 VARCHAR(50) NULL,
       IHC_SPECIMEN_2 VARCHAR(50) NULL,
       IHC_SPECIMEN_3 VARCHAR(50) NULL,
       SAMPLE_COLLECTION_DT DATETIME NULL,
       CONJ_MENING_VACC VARCHAR(50) NULL,
       TREATMENT_HOSPITAL_NM VARCHAR(100) NULL,
       TREATMENT_HOSPITAL_KEY numeric NULL,
       OTH_TYPE_OF_INSURANCE    VARCHAR(50) NULL,
       CASE_LOCATION_KEY    numeric NOT NULL,
       BIRTH_WEIGHT_OUNCES  numeric NULL,
       PREGNANT_IND         VARCHAR(50) NULL,
       OUTCOME_OF_FETUS     VARCHAR(50) NULL,
       UNDER_1_MONTH_IND    VARCHAR(50) NULL,
       GESTATIONAL_AGE      numeric NULL,
       BACTERIAL_SPECIES_ISOLATED VARCHAR(50) NULL,
       FIRST_POSITIVE_CULTURE_DT DATETIME NULL,
       UNDERLYING_CONDITION_IND VARCHAR(50) NULL,
       PATIENT_YR_IN_COLLEGE VARCHAR(50) NULL,
       CULTURE_SEROTYPE     VARCHAR(50) NULL,
       PATIENT_STATUS_IN_COLLEGE VARCHAR(50) NULL,
       PATIENT_CURR_LIVING_SITUATION VARCHAR(50) NULL,
       HIB_VACC_RECEIVED_IND VARCHAR(50) NULL,
       CULTURE_SEROGROUP    VARCHAR(50) NULL,
       ATTENDING_COLLEGE_IND VARCHAR(50) NULL,
       OXACILLIN_ZONE_SIZE  numeric NULL,
       OXACILLIN_INTERPRETATION VARCHAR(50) NULL,
       PNEUVACC_RECEIVED_IND VARCHAR(50) NULL,
       PNEUCONJ_RECEIVED_IND VARCHAR(50) NULL,
       FIRST_ADDITIONAL_SPECIMEN_DT DATETIME NULL,
       SECOND_ADDITIONAL_SPECIMEN_DT DATETIME NULL,
       PATIENT_HAD_SURGERY_IND VARCHAR(50) NULL,
       SURGERY_DT           DATETIME NULL,
       PATIENT_HAVE_BABY_IND VARCHAR(50) NULL,
       BABY_DELIVERY_DT     DATETIME NULL,
       IDENT_THRU_AUDIT_IND VARCHAR(50) NULL,
       SAME_PATHOGEN_RECURRENT_IND VARCHAR(50) NULL,
       OTHER_SPECIES_ISOLATE_SITE VARCHAR(2000) NULL,
       OTHER_CASE_IDENT_METHOD VARCHAR(2000) NULL,
       OTHER_HOUSING_OPTION VARCHAR(2000) NULL,
       PATIENT_CURR_ATTEND_SCHOOL_NM VARCHAR(100) NULL,
       POLYSAC_MENINGOC_VACC_IND VARCHAR(50) NULL,
       FAMILY_MEDICAL_INSURANCE_TYPE VARCHAR(50) NULL,
       HIB_CONTACT_IN_LAST_2_MON_IND VARCHAR(50) NULL,
       TYPE_HIB_CONTACT_IN_LAST_2_MON VARCHAR(2000) NULL,
       PRETERM_BIRTH_WK_NBR numeric NULL,
       IMMUNOSUPRESSION_HIV_STATUS VARCHAR(2000) NULL,
       ACUTE_SERUM_AVAILABLE_IND VARCHAR(50) NULL,
       ACUTE_SERUM_AVAILABLE_DT DATETIME NULL,
       CONVALESNT_SERUM_AVAILABLE_IND VARCHAR(50) NULL,
       CONVALESNT_SERUM_AVAILABLE_DT DATETIME NULL,
       BIRTH_OUTSIDE_HSPTL_IND VARCHAR(50) NULL,
       BIRTH_OUTSIDE_HSPTL_LOCATION VARCHAR(50) NULL,
       BABY_HSPTL_DISCHARGE_DTTIME DATETIME NULL,
       BABY_SAME_HSPTL_READMIT_IND VARCHAR(50) NULL,
       BABY_SAME_HSPTL_READMIT_DTTIME DATETIME NULL,
       FRM_HOME_TO_DIF_HSPTL_IND VARCHAR(50) NULL,
       FRM_HOME_TO_DIF_HSPTL_DTTIME DATETIME NULL,
       MOTHER_LAST_NM       VARCHAR(50) NULL,
       MOTHER_FIRST_NM      VARCHAR(50) NULL,
       MOTHER_HOSPTL_ADMISSION_DTTIME DATETIME NULL,
       MOTHER_PATIENT_CHART_NBR VARCHAR(2000) NULL,
       MOTHER_PENICILLIN_ALLERGY_IND VARCHAR(50) NULL,
       MEMBRANE_RUPTURE_DTTIME DATETIME NULL,
       MEMBRANE_RUPTURE_GE_18HRS_IND VARCHAR(50) NULL,
       RUPTURE_BEFORE_LABOR_ONSET VARCHAR(50) NULL,
       MEMBRANE_RUPTURE_TYPE VARCHAR(50) NULL,
       DELIVERY_TYPE        VARCHAR(50) NULL,
       MOTHER_INTRAPARTUM_FEVER_IND VARCHAR(50) NULL,
       FIRST_INTRAPARTUM_FEVER_DTTIME DATETIME NULL,
       RECEIVED_PRENATAL_CARE_IND VARCHAR(50) NULL,
       PRENATAL_CARE_IN_LABOR_CHART VARCHAR(50) NULL,
       PRENATAL_CARE_VISIT_NBR numeric NULL,
       FIRST_PRENATAL_CARE_VISIT_DT DATETIME NULL,
       LAST_PRENATAL_CARE_VISIT_DT DATETIME NULL,
       LAST_PRENATAL_CARE_VISIT_EGA numeric NULL,
       GBS_BACTERIURIA_IN_PREGNANCY VARCHAR(50) NULL,
       PREVIOUS_BIRTH_WITH_GBS_IND VARCHAR(50) NULL,
       GBS_CULTURED_BEFORE_ADMISSION VARCHAR(50) NULL,
       GBS_1ST_CULTURE_DT   DATETIME NULL,
       GBS_1ST_CULTURE_POSITIVE_IND VARCHAR(50) NULL,
       GBS_2ND_CULTURE_DT   DATETIME NULL,
       GBS_2ND_CULTURE_POSITIVE_IND VARCHAR(50) NULL,
       GBS_AFTER_ADM_BEFORE_DELIVERY VARCHAR(50) NULL,
       AFTER_ADM_GBS_CULTURE_DT DATETIME NULL,
       GBS_CULTURE_DELIVERY_AVAILABLE VARCHAR(50) NULL,
       INTRAPARTUM_ANTIBIOTICS_GIVEN VARCHAR(50) NULL,
       FIRST_ANTIBIOTICS_GIVEN_DTTIME DATETIME NULL,
       INTRAPARTUMANTIBIOTICSINTERVAL VARCHAR(20) NULL,
       INTRAPARTUM_ANTIBIOTICS_REASON VARCHAR(50) NULL,
       BABY_BIRTH_TIME      VARCHAR(20) NULL,
       NEISERRIA_2NDARY_CASE_IND VARCHAR(50) NULL,
       NEISERRIA_2ND_CASE_CONTRACT VARCHAR(50) NULL,
       OTHER_2NDARY_CASE_TYPE VARCHAR(2000) NULL,
       NEISERRIA_RESIST_TO_RIFAMPIN VARCHAR(50) NULL,
       NEISERRIA_RESIST_TO_SULFA VARCHAR(50) NULL,
       FIRST_HSPTL_DISCHARGE_TIME VARCHAR(2000) NULL,
       FIRST_HSPTL_READMISSION_TIME VARCHAR(2000) NULL,
       SECOND_HSPTL_ADMISSION_TIME VARCHAR(2000) NULL,
       ABCCASE              VARCHAR(50) NULL,
       HSPTL_MATERNAL_ADMISSION_TIME VARCHAR(2000) NULL,
       MEMBRANE_RUPTURE_TIME VARCHAR(2000) NULL,
       INTRAPARTUM_FEVER_RECORD_TIME VARCHAR(2000) NULL,
       ANTIBIOTICS_1ST_ADMIN_TIME VARCHAR(2000) NULL,
       BMIRD_MULTI_VAL_GRP_KEY numeric NOT NULL,
       OTHER_PRIOR_ILLNESS  VARCHAR(2000) NULL,
       OTHER_MALIGNANCY     VARCHAR(2000) NULL,
       ORGAN_TRANSPLANT     VARCHAR(2000) NULL,
       DAYCARE_IND          VARCHAR(50) NULL,
       NURSING_HOME_IND     VARCHAR(50) NULL,
       TYPES_OF_OTHER_INFECTION VARCHAR(2000) NULL,
       BACTERIAL_OTHER_SPECIED VARCHAR(2000) NULL,
       STERILE_SITE_OTHER   VARCHAR(2000) NULL,
       UNDERLYING_CONDITIONS_OTHER VARCHAR(2000) NULL,
       CULTURE_SEROGROUP_OTHER VARCHAR(2000) NULL,
       PERSISTENT_DISEASE_IND VARCHAR(50) NULL,
       GBS_CULTURE_POSITIVE_IND VARCHAR(50) NULL,
       ANTIMICROBIAL_GRP_KEY numeric NOT NULL,
       ANTIBIOTICS_GRP_KEY  numeric NOT NULL,
       BACTERIAL_OTHER_ISOLATED VARCHAR(50) NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       ADT_HSPTL_KEY        numeric NOT NULL,
       RPT_SRC_ORG_KEY      numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       FAMILY_MED_INSURANCE_TYPE_OTHE VARCHAR(2000) NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       PRIOR_STATE_CASE_ID  VARCHAR(2000) NULL,
       BIRTH_CNTRY_CD       VARCHAR(50) NULL,
       INITIAL_HSPTL_NAME   VARCHAR(100) NULL,
       BIRTH_HSPTL_NAME     VARCHAR(100) NULL,
       FROM_HOME_HSPTL_NAME VARCHAR(100) NULL,
       CULTURE_IDENT_ORG_NAME VARCHAR(100) NULL,
       TRANSFER_FRM_HSPTL_NAME VARCHAR(100) NULL,
       CASE_REPORT_STATUS   VARCHAR(50) NULL,
       TRANSFER_FRM_HSPTL_ID VARCHAR(100) NULL,
       BIRTH_HSPTL_ID       VARCHAR(100) NULL,
       DIF_HSPTL_ID         VARCHAR(100) NULL,
       ABC_STATE_CASE_ID    VARCHAR(100) NULL,
       INV_PATIENT_CHART_NBR VARCHAR(2000) NULL,
       OTHSPEC1             VARCHAR(20) NULL,
       OTHSPEC2             VARCHAR(20) NULL,
       INTBODYSITE          VARCHAR(20) NULL,
       OTHILL2              VARCHAR(20) NULL,
       OTHILL3              VARCHAR(20) NULL,
       OTHNONSTER           VARCHAR(20) NULL,
       OTHSEROTYPE          VARCHAR(20) NULL,
       HINFAGE              VARCHAR(20) NULL,
       ABCSINVLN            VARCHAR(20) NULL,
       ABCSINVFN            VARCHAR(20) NULL,
       ABCSINVEMAIL         VARCHAR(20) NULL,
       ABCSINVTELE          VARCHAR(20) NULL,
       ABCSINVEXT           VARCHAR(20) NULL,
       GEOCODING_LOCATION_KEY NUMERIC(8)

);


ALTER TABLE dbo.BMIRD_CASE
       ADD CONSTRAINT PK_BMIRD_CASE PRIMARY KEY  CLUSTERED (
	 INVESTIGATOR_KEY,
       PHYSICIAN_KEY,
       PATIENT_KEY,
       REPORTER_KEY,
       NURSING_HOME_KEY,
       DAYCARE_FACILITY_KEY,
       INV_ASSIGNED_DT_KEY,
       CASE_LOCATION_KEY,
       BMIRD_MULTI_VAL_GRP_KEY,
       ANTIBIOTICS_GRP_KEY,
       ANTIMICROBIAL_GRP_KEY,
       INVESTIGATION_KEY ,
       ADT_HSPTL_KEY  ,
       RPT_SRC_ORG_KEY ,
       CONDITION_KEY ,
       LDF_GROUP_KEY );


CREATE TABLE dbo.BMIRD_MULTI_VALUE_FIELD (
       BMIRD_MULTI_VAL_FIELD_KEY numeric NOT NULL,
       TYPES_OF_INFECTIONS  VARCHAR(50) NULL,
       UNDERLYING_CONDITION_NM VARCHAR(50) NULL,
       NON_STERILE_SITE     VARCHAR(50) NULL,
       STREP_PNEUMO_2_CULTURE_SITES VARCHAR(50) NULL,
       STREP_PNEUMO_1_CULTURE_SITES VARCHAR(50) NULL,
       GBS_2ND_CULTURE_SITES VARCHAR(50) NULL,
       GBS_1ST_CULTURE_SITES VARCHAR(50) NULL,
       PAST_SIGNIFICANT_MEDICAL_HIST VARCHAR(50) NULL,
       STERILE_SITE         VARCHAR(50) NULL,
       AFTER_ADM_GBS_CULTURE_SITES VARCHAR(50) NULL,
       BMIRD_MULTI_VAL_GRP_KEY numeric NOT NULL,
       OTHER_PRIOR_CONDITION_IND VARCHAR(50) NULL,
       HOW_WAS_CASE_IDENTIFIED VARCHAR(50) NULL,
       OTHERBUG2            VARCHAR(20) NULL,
       PCR_SOURCE VARCHAR(50) NULL,
       TYPE_OF_INSURANCE    VARCHAR(50) NULL

);


ALTER TABLE dbo.BMIRD_MULTI_VALUE_FIELD
       ADD PRIMARY KEY (BMIRD_MULTI_VAL_FIELD_KEY, 
              BMIRD_MULTI_VAL_GRP_KEY)
go


CREATE TABLE dbo.BMIRD_MULTI_VALUE_FIELD_GROUP (
       BMIRD_MULTI_VAL_GRP_KEY numeric NOT NULL
)
go


ALTER TABLE dbo.BMIRD_MULTI_VALUE_FIELD_GROUP
       ADD PRIMARY KEY (BMIRD_MULTI_VAL_GRP_KEY)
go


CREATE TABLE dbo.CASE_COUNT (
       CASE_COUNT           numeric NULL,
       INVESTIGATOR_KEY     numeric NOT NULL,
       REPORTER_KEY         numeric NOT NULL,
       PHYSICIAN_KEY        numeric NOT NULL,
       CASE_LOCATION_KEY    numeric NOT NULL,
       RPT_SRC_ORG_KEY      numeric NOT NULL,
       INV_ASSIGNED_DT_KEY  numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       INVESTIGATION_COUNT  numeric NULL,
       CONDITION_KEY        numeric NOT NULL,
       ADT_HSPTL_KEY        numeric NULL,
        GEOCODING_LOCATION_KEY NUMERIC
)
go


ALTER TABLE dbo.CASE_COUNT
       ADD PRIMARY KEY (INV_ASSIGNED_DT_KEY, INVESTIGATOR_KEY, 
              REPORTER_KEY, PHYSICIAN_KEY, CASE_LOCATION_KEY, 
              RPT_SRC_ORG_KEY, PATIENT_KEY, INVESTIGATION_KEY, 
              CONDITION_KEY)
go


CREATE TABLE dbo.CLINIC_VISITED (
       CLINIC_KEY           numeric NOT NULL,
       CLINIC_NM            varchar(50) NULL,
       CLINIC_STREET_ADDRESS varchar(50) NULL,
       CLINIC_CITY          varchar(50) NULL,
       CLINIC_STATE         varchar(50) NULL,
       CLINIC_CNTY          varchar(50) NULL,
       CLINIC_CNTRY         varchar(50) NULL,
       CLINIC_ZIP           varchar(50) NULL,
       CLINIC_PHONE_NBR     varchar(50) NULL
)
go


ALTER TABLE dbo.CLINIC_VISITED
       ADD PRIMARY KEY (CLINIC_KEY)
go


CREATE TABLE dbo.CODE_VAL_GENERAL (
       CODE_VAL             varchar(50) NULL,
       CODE_DESC            varchar(300) NULL,
       CODE_SYS_CD          varchar(50) NULL,
       CODE_SYS_CD_DESC     varchar(50) NULL,
       CODE_EFF_DT          datetime NULL,
       CODE_END_DT          datetime NULL,
       CD                   varchar(20) NOT NULL,
       CODE_KEY             numeric NOT NULL
)
go


ALTER TABLE dbo.CODE_VAL_GENERAL
       ADD PRIMARY KEY (CD, CODE_KEY)
go


CREATE TABLE dbo.CODESET (
       CD                   varchar(20) NOT NULL,
       TBL_NM               varchar(32) NULL,
       COL_NM               varchar(32) NULL,
       CD_SYS_CD            varchar(20) NULL,
       CD_SYS_CD_DESC       varchar(100) NULL,
       CD_SYS_VER           varchar(20) NULL,
       DATA_TYPE            varchar(20) NULL,
       DATA_LENGTH          numeric(4) NULL,
       CODE_SET_NM          varchar(32) NULL,
       CD_DESC              varchar(300) NULL
)
go


ALTER TABLE dbo.CODESET
       ADD PRIMARY KEY (CD)
go


CREATE TABLE dbo.CONDITION (
       CONDITION_CD         varchar(50) NULL,
       CONDITION_DESC       varchar(300) NULL,
       CONDITION_SHORT_NM   varchar(50) NULL,
       CONDITION_CD_EFF_DT  datetime NULL,
       CONDITION_CD_END_DT  datetime NULL,
       NND_IND              varchar(50) NULL,
       CONDITION_KEY        numeric NOT NULL,
       DISEASE_GRP_CD       varchar(20) NULL,
       DISEASE_GRP_DESC     varchar(100) NULL,
       PROGRAM_AREA_CD      varchar(20) NULL,
       PROGRAM_AREA_DESC    varchar(100) NULL,
       CONDITION_CD_SYS_CD_NM varchar(100) NULL,
       ASSIGNING_AUTHORITY_CD varchar(50) NULL,
       ASSIGNING_AUTHORITY_DESC varchar(100) NULL,
       CONDITION_CD_SYS_CD  varchar(50) NULL
)
go


ALTER TABLE dbo.CONDITION
       ADD PRIMARY KEY (CONDITION_KEY)
go


CREATE TABLE dbo.CONFIRMATION_METHOD (
       CONFIRMATION_METHOD_KEY numeric NOT NULL,
       CONFIRMATION_METHOD_CD varchar(50) NULL,
       CONFIRMATION_METHOD_DESC varchar(50) NULL
)
go


ALTER TABLE dbo.CONFIRMATION_METHOD
       ADD PRIMARY KEY (CONFIRMATION_METHOD_KEY)
go


CREATE TABLE dbo.CONFIRMATION_METHOD_GROUP (
       INVESTIGATION_KEY    numeric NOT NULL,
       CONFIRMATION_METHOD_KEY numeric NOT NULL,
       CONFIRMATION_DT      datetime NULL
)
go


ALTER TABLE dbo.CONFIRMATION_METHOD_GROUP
       ADD PRIMARY KEY (INVESTIGATION_KEY, CONFIRMATION_METHOD_KEY)
go


CREATE TABLE dbo.CONTACT_INFO (
       CONTACT_KEY          numeric NOT NULL,
       PHONE_NBR            varchar(50) NULL,
       PHONE_EXT            varchar(50) NULL,
       CNTRY_CD             varchar(50) NULL,
       URL                  varchar(100) NULL,
       EMAIL_ADDRESS        varchar(100) NULL,
       PHONE_TYPE           varchar(100) NULL,
       PHONE_COMMENTS       varchar(2000) NULL,
       PHONE_USE            varchar(50) NULL,
       PHONE_TYPE_DESC      varchar(50) NULL
)
go


ALTER TABLE dbo.CONTACT_INFO
       ADD PRIMARY KEY (CONTACT_KEY)
go


CREATE TABLE dbo.COUNTRY_TRAVELED_TO_LDF (
       COUNTRY_TRAVELED_TO_KEY numeric NOT NULL,
       COUNTRY_NM           varchar(50) NULL,
       TRAVEL_START_DT      datetime NULL,
       TRAVEL_END_DT        datetime NULL,
       PERSON_KEY           numeric NOT NULL
)
go


ALTER TABLE dbo.COUNTRY_TRAVELED_TO_LDF
       ADD PRIMARY KEY (COUNTRY_TRAVELED_TO_KEY, PERSON_KEY)
go


CREATE TABLE dbo.CRS_CASE (
       AT_PREGNANCY_18YOUNGR_CHILDNBR numeric NULL,
       AUTOPSY_PERFORMED_IND varchar(50) NULL,
       BIRTH_DELIVERED_IN_US_NBR numeric NULL,
       BIRTH_STATE          varchar(50) NULL,
       BIRTH_WEIGHT         numeric NULL,
       BIRTH_WEIGHT_UNIT    varchar(50) NULL,
       BY_WHOM_NOT_MD_DIAGNSD_RUBELLA varchar(2000) NULL,
       CHILD_18YOUNGR_RUBELLA_VACCD varchar(50) NULL,
       CHILD_AGE_AT_DIAGNOSIS_UNIT varchar(50) NULL,
       CHILD_AGE_AT_THIS_DIAGNOSIS numeric NULL,
       CHILD_CONGNITAL_HEART_DISEASE varchar(50) NULL,
       CHILD_DERMAL_ERYTHROPOISESIS varchar(50) NULL,
       CHILD_CONGNITAL_GLAUCOMA varchar(50) NULL,
       CHILD_JAUNDICE       varchar(50) NULL,
       CHILD_LOW_PLATELETS  varchar(50) NULL,
       CHILD_MENINGOENCEPHALITIS varchar(50) NULL,
       CHILD_MICROENCEPHALY varchar(50) NULL,
       CHILD_OTHER_ABNORMALITIES varchar(50) NULL,
       CHILD_PURPURA        varchar(50) NULL,
       CHILD_RADIOLUCENT_BONE varchar(50) NULL,
       CHILD_CATARACTS      varchar(50) NULL,
       CHILD_ENLARGED_LIVER varchar(50) NULL,
       CHILD_ENLARGED_SPLEEN varchar(50) NULL,
       CHILD_HEARING_LOSS   varchar(50) NULL,
       CHILD_MENTAL_RETARDATION varchar(50) NULL,
       CHILD_OTHER_ABNORMALITIES_1 varchar(2000) NULL,
       CHILD_OTHER_ABNORMALITIES_2 varchar(2000) NULL,
       CHILD_OTHER_ABNORMALITIES_3 varchar(2000) NULL,
       CHILD_OTHER_ABNORMALITIES_4 varchar(2000) NULL,
       CHILD_PATENT_DUCTUS_ARTERIOSUS varchar(50) NULL,
       CHILD_PIGMENTARY_RETINOPATHY varchar(50) NULL,
       CHILD_PULMONIC_STENOSIS varchar(50) NULL,
       CHILD_RUBELLA_LAB_TEST_DONE varchar(50) NULL,
       REASON_NOT_A_CRS_CASE varchar(50) NULL,
       DEATH_CERTIFICATE_2NDARY_CAUSE varchar(2000) NULL,
       DEATH_CERTIFICATE_PRIMARY_CAUS varchar(2000) NULL,
       DIFFERENCE_BETWEEN_TEST_1_2 varchar(50) NULL,
       FAMILYPLAND_PRIOR_CONCEPTION varchar(50) NULL,
       FINAL_ANATOMICAL_DEATH_CAUSE varchar(2000) NULL,
       PRENATAL_FIRST_VISIT_DT datetime NULL,
       GESTATIONAL_AGE_IN_WK_AT_BIRTH numeric NULL,
       HEALTH_PROVIDER_LAST_EVAL_DT datetime NULL,
       IGM_EIA_1_METHOD_USED varchar(50) NULL,
       IGM_EIA_2_METHOD_USED varchar(50) NULL,
       IGM_EIA_NONCAPTURE_RESULT varchar(50) NULL,
       IGM_EIA_OTHER_TST_RESULT_VAL varchar(2000) NULL,
       IGM_EIA_TEST_1_RESULT_VAL varchar(2000) NULL,
       IGM_EIA_TEST_2_RESULT_VAL varchar(2000) NULL,
       INFANT_DEATH_FRM_CRS varchar(50) NULL,
       MATERNAL_ILL_CLINICAL_FEATURE varchar(2000) NULL,
       CASE_LOCATION_KEY    numeric NOT NULL,
       MOTHER_AGE_AT_GIVEN_BIRTH numeric NULL,
       MOTHER_ARTHRALGIA_ARTHRITIS varchar(2000) NULL,
       MOTHER_BIRTH_CNTRY   varchar(50) NULL,
       MOTHER_EXPOSD_TO_RUBELLA_CASE varchar(50) NULL,
       MOTHER_GIVEN_PRIOR_BIRTH_IN_US varchar(50) NULL,
       MOTHER_HAD_FEVER     varchar(50) NULL,
       MOTHER_HAD_LYMPHADENOPATHY varchar(50) NULL,
       MOTHER_HAS_MACULOPAPULAR_RASH varchar(50) NULL,
       MOTHER_IMMUNIZED_IND varchar(50) NULL,
       MOTHER_KNOW_EXPOSED_AT_WHERE varchar(50) NULL,
       MOTHER_LIVING_IN_US_YRS numeric NULL,
       MOTHER_OCCUPATION_ATCONCEPTION varchar(2000) NULL,
       MOTHER_OTHER_VACC_INFO_SRC varchar(2000) NULL,
       MOTHER_RASH_ONSET_DT datetime NULL,
       MOTHER_RELATIONTO_RUBELLA_CASE varchar(50) NULL,
       MOTHER_RUBELLA_CASE_EXPOSE_DT datetime NULL,
       MOTHER_TRAVEL_BACK_US_1_DT datetime NULL,
       MOTHER_TRAVEL_BACK_US_2_DT datetime NULL,
       MOTHER_TRAVEL_OUT_US_1_DT datetime NULL,
       MOTHER_TRAVEL_OUT_US_2_DT datetime NULL,
       MOTHER_TRAVEL_1_TO_CNTRY varchar(50) NULL,
       MOTHER_TRAVEL_2_TO_CNTRY varchar(50) NULL,
       MOTHER_UNK_EXPOSURE_TRAVEL_IND varchar(50) NULL,
       MOTHER_IS_A_RPTD_RUBELLA_CASE varchar(50) NULL,
       MOTHERRUBELLA_IMMUNIZE_INFOSRC varchar(50) NULL,
       OTHER_CONGNITAL_HEART_DISS_IND varchar(50) NULL,
       OTHER_CONGNITALHEART_DISS_DESC varchar(2000) NULL,
       OTHER_RELATIONSHIP   varchar(2000) NULL,
       OTHER_RUBELLA_LAB_TEST_DESC varchar(2000) NULL,
       OTHER_RUBELLA_LAB_TEST_DONE varchar(50) NULL,
       OTHER_RUBELLA_LAB_TEST_DT datetime NULL,
       OTHER_RUBELLA_LAB_TEST_RESULT varchar(2000) NULL,
       OTHER_RUBELLA_SPECIMEN_TYPE varchar(2000) NULL,
       OTHER_RUBELLA_TEST_RESULT_VAL varchar(2000) NULL,
       PREGNANCY_MO_RUBELLA_SYMPTM_UP numeric NULL,
       PRENATAL_CARE_THIS_PREGNANCY varchar(50) NULL,
       PREVIOUS_PREGNANCY_NBR numeric NULL,
       RT_PCR_DT            datetime NULL,
       RT_PCR_OTHER_SPECIMEN_SRC varchar(2000) NULL,
       RT_PCR_PERFORMED     varchar(50) NULL,
       RT_PCR_RESULT        varchar(50) NULL,
       RT_PCR_SRC           varchar(50) NULL,
       RT_PCR_TEST_RESULT_VAL varchar(2000) NULL,
       RUBELLA_IGG_TEST_1   varchar(50) NULL,
       RUBELLA_IGG_TEST_1_DT datetime NULL,
       RUBELLA_IGG_TEST_1_RESULT varchar(50) NULL,
       RUBELLA_IGG_TEST_2   varchar(50) NULL,
       RUBELLA_IGG_TEST_2_DT datetime NULL,
       RUBELLA_IGG_TEST_2_RESULT varchar(50) NULL,
       RUBELLA_IGG_TEST1_RESULT_VAL varchar(2000) NULL,
       RUBELLA_IGG_TEST2_RESULT_VAL varchar(2000) NULL,
       RUBELLA_IGM_EIA_CAPTURE varchar(50) NULL,
       RUBELLA_IGM_EIA_CAPTURE_DT datetime NULL,
       RUBELLA_IGM_EIA_CAPTURE_RESULT varchar(50) NULL,
       RUBELLA_IGM_EIA_NONCAPTURE_DT datetime NULL,
       RUBELLA_IGM_EIA_TESTED varchar(50) NULL,
       RUBELLA_IGM_OTHER_TEST varchar(50) NULL,
       RUBELLA_IGM_OTHER_TEST_DESC varchar(2000) NULL,
       RUBELLA_IGM_OTHER_TEST_DT datetime NULL,
       RUBELLA_IGM_OTHER_TEST_RESULT varchar(50) NULL,
       RUBELLA_LIKE_ILL_IN_PREGNANCY varchar(50) NULL,
       RUBELLA_SPECIMEN_TYPE varchar(50) NULL,
       RUBELLAVACCD_18YOUNGR_CHILDNBR numeric NULL,
       SEROLOGICAL_CONFIRMD_AT_ILL varchar(50) NULL,
       SEROLOGICAL_TST_BEFR_PREGNANCY varchar(50) NULL,
       SEROLOGICALLY_CONFIRMD_DT datetime NULL,
       SEROLOGICALLY_CONFIRMD_RESULT varchar(50) NULL,
       SPECIMEN_TO_CDC_FOR_GENOTYPING varchar(50) NULL,
       TOTAL_LIVE_BIRTH_NBR numeric NULL,
       VACCINE_SRC          varchar(50) NULL,
       VIRUS_ISOLATION_DT   datetime NULL,
       VIRUS_ISOLATION_OTHER_SRC varchar(2000) NULL,
       VIRUS_ISOLATION_PERFORMED varchar(50) NULL,
       VIRUS_ISOLATION_RESULT varchar(50) NULL,
       VIRUS_ISOLATION_SPECIMEN_SRC varchar(50) NULL,
       YR_MOTHER_PRIOR_DELIVERY_IN_US varchar(2000) NULL,
       INVESTIGATOR_KEY     numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       PHYSICIAN_KEY        numeric NOT NULL,
       REPORTER_KEY         numeric NOT NULL,
       INV_ASSIGNED_DT_KEY  numeric NOT NULL,
       PRENATAL_CARE_OBTAINED_FRM_2 varchar(50) NULL,
       PRENATAL_CARE_OBTAINED_FRM_3 varchar(50) NULL,
       PRENATAL_CARE_OBTAINED_FRM_1 varchar(50) NULL,
       RPT_SRC_ORG_KEY      numeric NOT NULL,
       ADT_HSPTL_KEY        numeric NOT NULL,
       MOTHER_RUBELLA_ACQUIRED_PLACE varchar(50) NULL,
       MOTHER_RUBELLA_ACQUIRED_CNTRY varchar(50) NULL,
       MOTHER_RUBELLA_ACQUIRED_CITY varchar(2000) NULL,
       MOTHER_RUBELLA_ACQUIRED_STATE varchar(50) NULL,
       MOTHER_RUBELLA_ACQUIRED_CNTY varchar(50) NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       SENT_FOR_GENOTYPING_DT datetime NULL,
       DIAGNOSED_BY_PHYSICIAN_IND varchar(50) NULL,
       MOTHER_RUBELLA_LAB_TEST_IND varchar(50) NULL,
       MOTHER_VACCINATED_DT datetime NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       GENOTYPE_SEQUENCED_CRS varchar(50) NULL,
       GENOTYPE_ID_CRS varchar(50) NULL,
       GENOTYPE_OTHER_ID_CRS varchar(50) NULL,
       GEOCODING_LOCATION_KEY NUMERIC(8)

)
go


ALTER TABLE dbo.CRS_CASE
       ADD PRIMARY KEY (CASE_LOCATION_KEY, INVESTIGATOR_KEY, 
              PATIENT_KEY, REPORTER_KEY, PHYSICIAN_KEY, 
              INV_ASSIGNED_DT_KEY, ADT_HSPTL_KEY, RPT_SRC_ORG_KEY, 
              INVESTIGATION_KEY, CONDITION_KEY, LDF_GROUP_KEY)
go


CREATE TABLE dbo.DETAIL_ETHNICITY (
       DETAIL_ETHNICITY_KEY numeric NOT NULL,
       PERSON_ETHNICITY_DESC varchar(100) NULL,
       PERSON_ETHNICITY_CD  varchar(50) NULL
)
go


ALTER TABLE dbo.DETAIL_ETHNICITY
       ADD PRIMARY KEY (DETAIL_ETHNICITY_KEY)
go


CREATE TABLE dbo.DRUG_RESULT (
       DRUG_RESULT_KEY      numeric NOT NULL,
       DRUG_RESULT_CD       varchar(20) NULL,
       DRUG_RESULT_CD_DESC  varchar(20) NULL,
       DRUG_RESULT_CD_SYS_CD varchar(20) NULL,
       DRUG_RESULT_CD_SYS_NM varchar(20) NULL,
       DRUG_RESULT_CD_EFF_DT datetime NULL,
       DRUG_RESULT_CD_END_DT datetime NULL,
       DRUG_NM              varchar(20) NULL
)
go


ALTER TABLE dbo.DRUG_RESULT
       ADD PRIMARY KEY (DRUG_RESULT_KEY)
go


CREATE TABLE dbo.GENERIC_CASE (
       INVESTIGATOR_KEY     numeric NOT NULL,
       PHYSICIAN_KEY        numeric NOT NULL,
       REPORTER_KEY         numeric NOT NULL,
       INV_ASSIGNED_DT_KEY  numeric NOT NULL,
       ILLNESS_DURATION     varchar(20) NULL,
       ILLNESS_DURATION_UNIT varchar(20) NULL,
       PATIENT_AGE_AT_ONSET numeric NULL,
       PATIENT_KEY          numeric NOT NULL,
       PATIENT_AGE_AT_ONSET_UNIT varchar(20) NULL,
       FOOD_HANDLR_IND      varchar(50) NULL,
       DAYCARE_ASSOCIATION_IND varchar(50) NULL,
       DETECTION_METHOD     varchar(20) NULL,
       DETECTION_METHOD_OTHER varchar(100) NULL,
       ADT_HSPTL_KEY        numeric NOT NULL,
       PATIENT_PREGNANCY_STATUS varchar(50) NULL,
       PELVIC_INFLAMMATORY_DISS_IND varchar(50) NULL,
       RPT_SRC_ORG_KEY      numeric NOT NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       CASE_LOCATION_KEY    numeric NOT NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       GEOCODING_LOCATION_KEY NUMERIC(8)
)
go


ALTER TABLE dbo.GENERIC_CASE
       ADD PRIMARY KEY (INVESTIGATOR_KEY, PHYSICIAN_KEY, REPORTER_KEY, 
              INV_ASSIGNED_DT_KEY, PATIENT_KEY, RPT_SRC_ORG_KEY, 
              ADT_HSPTL_KEY, INVESTIGATION_KEY, CONDITION_KEY, 
              CASE_LOCATION_KEY, LDF_GROUP_KEY)
go


CREATE TABLE dbo.HEP_MULTI_VALUE_FIELD (
       HEP_MULTI_VAL_GRP_KEY numeric NOT NULL,
       HEP_MULTI_VAL_DATA_KEY numeric NOT NULL,
       REASON_FOR_TESTING   varchar(50) NULL,
       DISEASE_DIAGNOSIS    varchar(50) NULL,
       CNTRY_TRAVELD_OUT_USA_CAN varchar(50) NULL,
       CNTRY_NPP_TRAVELD_OUT_USA_CAN varchar(50) NULL,
       HEP_B_CONTACT_TYPE   varchar(50) NULL,
       TATTOOED_IN6WKMON_LOCATION varchar(50) NULL,
       PIERCING_IN6WKMON_LOCATION varchar(50) NULL,
       HEPB_INCARCERATION_FACILITY_TY varchar(50) NULL,
       HEP_C_CONTACT_TYPE   varchar(50) NULL,
       HEP_A_CONTACT_TYPE   varchar(50) NULL
)
go


ALTER TABLE dbo.HEP_MULTI_VALUE_FIELD
       ADD PRIMARY KEY (HEP_MULTI_VAL_GRP_KEY, HEP_MULTI_VAL_DATA_KEY)
go


CREATE TABLE dbo.HEP_MULTI_VALUE_FIELD_GROUP (
       HEP_MULTI_VAL_GRP_KEY numeric NOT NULL
)
go


ALTER TABLE dbo.HEP_MULTI_VALUE_FIELD_GROUP
       ADD PRIMARY KEY (HEP_MULTI_VAL_GRP_KEY)
go


CREATE TABLE dbo.HEPATITIS_CASE (
       REPORTER_KEY         numeric NOT NULL,
       INVESTIGATOR_KEY     numeric NOT NULL,
       PHYSICIAN_KEY        numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       ALT_RESULT_DT        DATETIME    NULL,
       INV_ASSIGNED_DT_KEY  numeric NOT NULL,
       AST_RESULT_DT         DATETIME    NULL,
       RPT_SRC_ORG_KEY      numeric NOT NULL,
       CASE_LOCATION_KEY    numeric NOT NULL,
       PATIENT_SYMPTOMATIC_IND varchar(50) NULL,
       PATIENT_JUNDICED_IND varchar(50) NULL,
       PATIENT_PREGNANT_IND varchar(50) NULL,
       PATIENT_PREGNANCY_DUE_DT datetime NULL,
       HEP_A_TOTAL_ANTIBODY varchar(50) NULL,
       HEP_A_IGM_ANTIBODY   varchar(50) NULL,
       HEP_B_SURFACE_ANTIGEN varchar(50) NULL,
       HEP_B_TOTAL_ANTIBODY varchar(50) NULL,
       HEP_B_IGM_ANTIBODY   varchar(50) NULL,
       HEP_C_TOTAL_ANTIBODY varchar(50) NULL,
       HEP_D_TOTAL_ANTIBODY varchar(50) NULL,
       HEP_E_TOTAL_ANTIBODY varchar(50) NULL,
       ANTIHCV_SIGNAL_TO_CUTOFF_RATIO varchar(2000) NULL,
       ANTIHCV_SUPPLEMENTAL_ASSAY varchar(50) NULL,
       HCV_RNA              varchar(50) NULL,
       ALT_SGPT_RESULT      numeric NULL,
       ALT_SGPT_RESULT_UPPER_LIMIT numeric NULL,
       AST_SGOT_RESULT      numeric NULL,
       AST_SGOT_RESULT_UPPER_LIMIT numeric NULL,
       HEP_A_EPLINK_IND     varchar(50) NULL,
       HEP_A_CONTACTED_IND  varchar(50) NULL,
       D_N_P_EMPLOYEE_IND   varchar(50) NULL,
       D_N_P_HOUSEHOLD_CONTACT_IND varchar(50) NULL,
       HEP_A_KEYENT_IN_CHILDCARE_IND varchar(50) NULL,
       HEPA_MALE_SEX_PARTNER_NBR varchar(50) NULL,
       HEPA_FEMALE_SEX_PARTNER_NBR varchar(50) NULL,
       STREET_DRUG_INJECTED_IN_2_6_WK varchar(50) NULL,
       STREET_DRUG_USED_IN_2_6_WK varchar(50) NULL,
       TRAVEL_OUT_USA_CAN_IND varchar(50) NULL,
       HOUSEHOLD_NPP_OUT_USA_CAN varchar(50) NULL,
       PART_OF_AN_OUTBRK_IND varchar(50) NULL,
       ASSOCIATED_OUTBRK_TYPE varchar(50) NULL,
       FOODBORNE_OUTBRK_FOOD_ITEM varchar(2000) NULL,
       FOODHANDLER_2_WK_PRIOR_ONSET varchar(50) NULL,
       HEP_A_VACC_RECEIVED_IND varchar(50) NULL,
       HEP_A_VACC_RECEIVED_DOSE varchar(50) NULL,
       HEP_A_VACC_LAST_RECEIVED_YR numeric NULL,
       IMMUNE_GLOBULIN_RECEIVED_IND varchar(50) NULL,
       GLOBULIN_LAST_RECEIVED_YR datetime NULL,
       HEP_B_CONTACTED_IND  varchar(50) NULL,
       HEP_B_OTHER_CONTACT_TYPE varchar(2000) NULL,
       HEPB_STD_TREATED_IND varchar(50) NULL,
       HEPB_STD_LAST_TREATMENT_YR numeric NULL,
       STREET_DRUG_INJECTED_IN6WKMON varchar(50) NULL,
       HEMODIALYSIS_IN_LAST_6WKMON varchar(50) NULL,
       BLOOD_CONTAMINATION_IN6WKMON varchar(50) NULL,
       HEPB_BLOOD_RECEIVED_IN6WKMON varchar(50) NULL,
       HEPB_BLOOD_RECEIVED_DT datetime NULL,
       BLOOD_EXPOSURE_IN_LAST6WKMON varchar(50) NULL,
       BLOOD_EXPOSURE_IN6WKMON_OTHER varchar(2000) NULL,
       HEPB_MED_DEN_EMPLOYEE_IN6WKMON varchar(50) NULL,
       HEPB_MED_DEN_BLOOD_CONTACT_FRQ varchar(50) NULL,
       HEPB_PUB_SAFETY_WORKER_IN6WKMO varchar(50) NULL,
       HEPB_PUBSAFETY_BLOODCONTACTFRQ varchar(50) NULL,
       TATTOOED_IN6WKMON_BEFORE_ONSET varchar(50) NULL,
       TATTOOED_IN6WKMONOTHERLOCATION varchar(2000) NULL,
       PIERCING_IN6WKMON_BEFORE_ONSET varchar(50) NULL,
       PIERCING_IN6WKMONOTHERLOCATION varchar(2000) NULL,
       DEN_WORK_OR_SURGERY_IN6WKMON varchar(50) NULL,
       NON_ORAL_SURGERY_IN6WKMON varchar(50) NULL,
       HSPTLIZD_IN6WKMON_BEFORE_ONSET varchar(50) NULL,
       LONGTERMCARE_RESIDENT_IN6WKMON varchar(50) NULL,
       B_INCARCERATED24PLUSHRSIN6WKMO varchar(50) NULL,
       STREET_DRUG_USED_IN6WKMON varchar(50) NULL,
       B_INCARCERATED_6PLUS_MON_IND varchar(50) NULL,
       B_LAST6PLUSMON_INCARCERATE_YR numeric(4) NULL,
       BLAST6PLUSMO_INCARCERATEPERIOD numeric(4) NULL,
       B_LAST_INCARCERATE_PERIOD_UNIT varchar(50) NULL,
       HEP_B_VACC_RECEIVED_IND varchar(50) NULL,
       HEP_B_VACC_SHOT_RECEIVED_NBR varchar(50) NULL,
       HEP_B_VACC_LAST_RECEIVED_YR numeric(4) NULL,
       ANTI_HBSAG_TESTED_IND varchar(50) NULL,
       ANTI_HBS_POSITIVE_REACTIVE_IND varchar(50) NULL,
       HEP_C_CONTACTED_IND  varchar(50) NULL,
       MED_DEN_EMPLOYEE_IN_2WK6MO varchar(50) NULL,
       PUBLIC_SAFETY_WORKER_IN_2WK6MO varchar(50) NULL,
       TATTOOED_IN2WK6MO_BEFORE_ONSET varchar(50) NULL,
       TATTOOED_IN2WK6MO_LOCATION varchar(50) NULL,
       PIERCING_IN2WK6MO_BEFORE_ONSET varchar(50) NULL,
       PIERCING_IN2WK6MO_LOCATION varchar(50) NULL,
       STREET_DRUG_INJECTED_IN_2WK6MO varchar(50) NULL,
       STREET_DRUG_USED_IN_2WK6MO varchar(50) NULL,
       HEMODIALYSIS_IN_LAST_2WK6MO varchar(50) NULL,
       BLOOD_CONTAMINATION_IN_2WK6MO varchar(50) NULL,
       HEPC_BLOOD_RECEIVED_IN_2WK6MO varchar(50) NULL,
       BLOOD_EXPOSURE_IN_LAST2WK6MO varchar(50) NULL,
       BLOOD_EXPOSURE_IN2WK6MO_OTHER varchar(2000) NULL,
       DEN_WORK_OR_SURGERY_IN2WK6MO varchar(50) NULL,
       NON_ORAL_SURGERY_IN2WK6MO varchar(50) NULL,
       HSPTLIZD_IN2WK6MO_BEFORE_ONSET varchar(50) NULL,
       LONGTERMCARE_RESIDENT_IN2WK6MO varchar(50) NULL,
       INCARCERATED_24PLUSHRSIN2WK6MO varchar(50) NULL,
       BLOOD_TRANSFUSION_BEFORE_1992 varchar(50) NULL,
       ORGAN_TRANSPLANT_BEFORE_1992 varchar(50) NULL,
       CLOT_FACTOR_CONCERN_BEFORE1987 varchar(50) NULL,
       LONGTERM_HEMODIALYSIS_IND varchar(50) NULL,
       EVER_INJECT_NONPRESCRIBED_DRUG varchar(50) NULL,
       LIFETIME_SEX_PARTNER_NBR numeric(15,5) NULL,
       EVER_INCARCERATED_IND varchar(50) NULL,
       HEPATITIS_CONTACTED_IND varchar(50) NULL,
       HEPATITIS_CONTACT_TYPE varchar(50) NULL,
       PATIENT_MOTHER_BORN_OUT_USA varchar(50) NULL,
       MOTHER_HBSAG_POSITIVE_IND varchar(50) NULL,
       MOTHR_HBSAG_POSTV_POSTDELIVERY varchar(50) NULL,
       MOTHER_HBSAG_POSITIVE_DT datetime NULL,
       HEP_B_VACC_DOSE_CHILD_RECEIVED varchar(50) NULL,
       HEPB_1STVACC_CHILD_RECEIVED_DT datetime NULL,
       HEPB_2NDVACC_CHILD_RECEIVED_DT datetime NULL,
       HEPB_3RDVACC_CHILD_RECEIVED_DT datetime NULL,
       CHILD_RECEIVED_HBIG_IND varchar(50) NULL,
       CHILD_RECEIVED_HBIG_DT datetime NULL,
       OUTPATIENT_IV_INFUSION_IN6WKMO varchar(50) NULL,
       OUTPATIENT_IV_INFUSIONIN2WK6MO varchar(50) NULL,
       HEP_MULTI_VAL_GRP_KEY numeric NOT NULL,
       OTHER_REASON_FOR_TESTING varchar(2000) NULL,
       ADT_HSPTL_KEY        numeric NOT NULL,
       HEPATITIS_OTHER_CONTACT_TYPE varchar(2000) NULL,
       HEPA_OTHER_CONTACT_TYPE varchar(2000) NULL,
       PIERCING_IN2WK6MO_OTHER_LOCAT varchar(2000) NULL,
       TATTOOED_IN2WK6MOOTHERLOCATION varchar(2000) NULL,
       HEP_C_OTHER_CONTACT_TYPE varchar(2000) NULL,
       HEPC_FEMALE_SEX_PARTNER_NBR varchar(50) NULL,
       HEPC_MALE_SEX_PARTNER_NBR varchar(50) NULL,
       HEPC_MED_DEN_BLOOD_CONTACT_FRQ varchar(50) NULL,
       C_LAST6PLUSMON_INCARCERATE_YR numeric NULL,
       CLAST6PLUSMO_INCARCERATEPERIOD numeric NULL,
       C_LAST_INCARCERATE_PERIOD_UNIT varchar(50) NULL,
       C_INCARCERATED_6PLUS_MON_IND varchar(50) NULL,
       HEPC_INCARCERATE_FACILITY_TYPE varchar(50) NULL,
       HEPC_BLOOD_RECEIVED_DT datetime NULL,
       HEPC_PUBSAFETY_BLOODCONTACTFRQ varchar(50) NULL,
       HEPB_FEMALE_SEX_PARTNER_NBR varchar(50) NULL,
       HEPB_MALE_SEX_PARTNER_NBR varchar(50) NULL,
       HEPC_STD_TREATED_IND varchar(50) NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       HEPC_STD_LAST_TREATMENT_YR numeric NULL,
       HEPC_MED_DEN_EMPLOYEE_IND varchar(50) NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       HEP_B_E_ANTIGEN  varchar(50) NULL,
       HEP_B_DNA  varchar(50) NULL,
       GEOCODING_LOCATION_KEY NUMERIC(8)
)
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD PRIMARY KEY (REPORTER_KEY, INVESTIGATOR_KEY, PHYSICIAN_KEY, 
              PATIENT_KEY, INV_ASSIGNED_DT_KEY, 
              RPT_SRC_ORG_KEY, CASE_LOCATION_KEY, 
              HEP_MULTI_VAL_GRP_KEY, ADT_HSPTL_KEY, INVESTIGATION_KEY, 
              CONDITION_KEY, LDF_GROUP_KEY)
go


CREATE TABLE dbo.INVESTIGATION (
       INVESTIGATION_KEY    numeric NOT NULL,
       INV_ASSIGNED_DT_KEY   numeric NULL,
       CASE_OID             numeric NULL,
       CASE_UID             numeric NULL,
       INV_LOCAL_ID         varchar(50) NULL,
       INV_SHARE_IND        varchar(50) NULL,
       OUTBREAK_NAME        varchar(100) NULL,
       INVESTIGATION_STATUS varchar(50) NULL,
       INV_CASE_STATUS      varchar(50) NULL,
       CASE_TYPE            varchar(50) NULL,
       INV_COMMENTS         varchar(2000) NULL,
       JURISDICTION_CD      varchar(20) NULL,
       JURISDICTION_NM      varchar(100) NULL,
       EARLIEST_RPT_TO_PHD_DT datetime NULL,
       ILLNESS_ONSET_DT     datetime NULL,
       ILLNESS_END_DT       datetime NULL,
       INV_RPT_DT           datetime NULL,
       INV_START_DT         datetime NULL,
       RPT_SRC_CD_DESC      varchar(100) NULL,
       EARLIEST_RPT_TO_CNTY_DT datetime NULL,
       EARLIEST_RPT_TO_STATE_DT datetime NULL,
       CASE_RPT_MMWR_WK     numeric NULL,
       CASE_RPT_MMWR_YR     numeric NULL,
       DISEASE_IMPORTED_IND varchar(50) NULL,
       IMPORT_FRM_CNTRY     varchar(50) NULL,
       IMPORT_FRM_STATE     varchar(50) NULL,
       IMPORT_FRM_CNTY      varchar(50) NULL,
       IMPORT_FRM_CITY      varchar(2000) NULL,
       EARLIEST_RPT_TO_CDC_DT datetime NULL,
       RPT_SRC_CD           varchar(50) NULL,
       IMPORT_FRM_CNTRY_CD  varchar(50) NULL,
       IMPORT_FRM_STATE_CD  varchar(50) NULL,
       IMPORT_FRM_CNTY_CD   varchar(50) NULL,
       IMPORT_FRM_CITY_CD   varchar(50) NULL,
       DIAGNOSIS_DT         datetime NULL,
       HSPTL_ADMISSION_DT   datetime NULL,
       HSPTL_DISCHARGE_DT   datetime NULL,
       HSPTL_DURATION_DAYS  numeric NULL,
       OUTBREAK_IND         varchar(50) NULL,
       HSPTLIZD_IND         varchar(50) NULL,
       INV_STATE_CASE_ID    varchar(100) NULL,
       CITY_COUNTY_CASE_NBR varchar(100) NULL,
       TRANSMISSION_MODE    varchar(50) NULL,
       RECORD_STATUS_CD     varchar(8) NOT NULL,
       	PATIENT_PREGNANT_IND varchar(50) NULL,
       	DIE_FRM_THIS_ILLNESS_IND varchar(50) NULL,
       	DAYCARE_ASSOCIATION_IND varchar(50) NULL,
	FOOD_HANDLR_IND      varchar(50) NULL,
	INVESTIGATION_DEATH_DATE datetime NULL
)
go


ALTER TABLE dbo.INVESTIGATION
       ADD PRIMARY KEY (INVESTIGATION_KEY)
go


CREATE TABLE dbo.LAB_RESULT_COMMENT (
       LAB_RESULT_COMMENT_KEY numeric NOT NULL,
       LAB_RESULT_COMMENTS  varchar(2000) NULL,
       RESULT_COMMENT_GRP_KEY numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_LABRSLTCMT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.LAB_RESULT_COMMENT
       ADD PRIMARY KEY (LAB_RESULT_COMMENT_KEY, 
              RESULT_COMMENT_GRP_KEY)
go


CREATE TABLE dbo.LAB_RESULT_CONDITION (
       LAB_RESULT_GRP_KEY   numeric NOT NULL,
       CONDITION_KEY        numeric NULL
)
go


ALTER TABLE dbo.LAB_RESULT_CONDITION
       ADD PRIMARY KEY (LAB_RESULT_GRP_KEY)
go


CREATE TABLE dbo.LAB_RESULT_GROUP (
       LAB_RESULT_GRP_KEY   numeric NOT NULL
)
go


ALTER TABLE dbo.LAB_RESULT_GROUP
       ADD PRIMARY KEY (LAB_RESULT_GRP_KEY)
go


CREATE TABLE dbo.LAB_RESULT_VAL (
       TEST_RESULT_GRP_KEY  numeric NOT NULL,
       NUMERIC_RESULT       varchar(50) NULL,
       RESULT_UNITS         varchar(50) NULL,
       LAB_RESULT_TXT_VAL   varchar(2000) NULL,
       REF_RANGE_FRM        varchar(20) NULL,
       REF_RANGE_TO         varchar(20) NULL,
       TEST_RESULT_VAL_CD   varchar(20) NULL,
       TEST_RESULT_VAL_CD_DESC varchar(300) NULL,
       TEST_RESULT_VAL_CD_SYS_CD varchar(100) NULL,
       TEST_RESULT_VAL_CD_SYS_NM varchar(100) NULL,
       ALT_RESULT_VAL_CD    varchar(50) NULL,
       ALT_RESULT_VAL_CD_DESC varchar(100) NULL,
       ALT_RESULT_VAL_CD_SYS_CD varchar(50) NULL,
       ALT_RESULT_VAL_CD_SYS_NM varchar(100) NULL,
       TEST_RESULT_VAL_KEY  numeric NOT NULL,
       FROM_TIME    datetime NULL,
       TO_TIME    datetime NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_LABRSLTVAL_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.LAB_RESULT_VAL
       ADD PRIMARY KEY (TEST_RESULT_GRP_KEY, TEST_RESULT_VAL_KEY)
go


CREATE TABLE dbo.LAB_RPT_USER_COMMENT (
       USER_COMMENT_KEY     numeric NOT NULL,
       USER_RPT_COMMENTS    varchar(2000) NULL,
       COMMENTS_FOR_ELR_DT  datetime NULL,
       USER_COMMENT_CREATED_BY numeric NULL,
       LAB_TEST_KEY         numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_LABRPTUSERCMT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.LAB_RPT_USER_COMMENT
       ADD PRIMARY KEY (USER_COMMENT_KEY, LAB_TEST_KEY)
go


CREATE TABLE dbo.LAB_TEST (
       LAB_TEST_STATUS      varchar(50) NULL,
       LAB_TEST_KEY         numeric NOT NULL,
       LAB_RPT_LOCAL_ID     varchar(50) NULL,
       TEST_METHOD_CD       varchar(20) NULL,
       TEST_METHOD_CD_DESC  varchar(100) NULL,
       LAB_RPT_SHARE_IND    varchar(50) NULL,
       LAB_TEST_CD          varchar(1000) NULL,
       ELR_IND              varchar(50) NULL,
       LAB_RPT_UID          numeric NULL,
       LAB_TEST_CD_DESC     varchar(2000) NULL,
       INTERPRETATION_FLG   varchar(20) NULL,
       LAB_RPT_RECEIVED_BY_PH_DT datetime NULL,
       LAB_RPT_CREATED_BY   numeric NULL,
       REASON_FOR_TEST_DESC varchar(100) NULL,
       REASON_FOR_TEST_CD   varchar(20) NULL,
       LAB_RPT_LAST_UPDATE_BY numeric NULL,
       LAB_TEST_DT          datetime NULL,
       LAB_RPT_CREATED_DT   datetime NULL,
       LAB_TEST_TYPE        varchar(50) NULL,
       LAB_RPT_LAST_UPDATE_DT datetime NULL,
       JURISDICTION_CD      varchar(20) NULL,
       LAB_TEST_CD_SYS_CD   varchar(50) NULL,
       LAB_TEST_CD_SYS_NM   varchar(100) NULL,
       JURISDICTION_NM      varchar(50) NULL,
       OID                  numeric NULL,
       ALT_LAB_TEST_CD      varchar(50) NULL,
       LAB_RPT_STATUS       char(1) NULL,
       DANGER_CD_DESC       varchar(100) NULL,
       ALT_LAB_TEST_CD_DESC varchar(1000) NULL,
       ACCESSION_NBR        varchar(100) NULL,
       SPECIMEN_SRC         varchar(50) NULL,
       PRIORITY_CD          varchar(20) NULL,
       ALT_LAB_TEST_CD_SYS_CD varchar(50) NULL,
       ALT_LAB_TEST_CD_SYS_NM varchar(100) NULL,
       SPECIMEN_SITE        varchar(20) NULL,
       SPECIMEN_DETAILS     varchar(1000) NULL,
       DANGER_CD            varchar(20) NULL,
       SPECIMEN_COLLECTION_VOL varchar(20) NULL,
       SPECIMEN_COLLECTION_VOL_UNIT varchar(50) NULL,
       SPECIMEN_DESC        varchar(1000) NULL,
       SPECIMEN_SITE_DESC   varchar(100) NULL,
       CLINICAL_INFORMATION varchar(1000) NULL,
       LAB_TEST_UID         numeric NULL,
       ROOT_ORDERED_TEST_PNTR numeric NULL,
       PARENT_TEST_PNTR     numeric NULL,
       LAB_TEST_PNTR        numeric NULL,
       SPECIMEN_ADD_TIME    datetime NULL,
       SPECIMEN_LAST_CHANGE_TIME datetime NULL,
       SPECIMEN_COLLECTION_DT datetime NULL,
       SPECIMEN_NM          varchar(100) NULL,
       ROOT_ORDERED_TEST_NM varchar(1000) NULL,
       PARENT_TEST_NM       varchar(1000) NULL,
       TRANSCRIPTIONIST_NAME varchar(300) NULL,
       TRANSCRIPTIONIST_ID  varchar(100) NULL,
       TRANSCRIPTIONIST_ASS_AUTH_CD varchar(100) NULL,
       TRANSCRIPTIONIST_ASS_AUTH_TYPE varchar(100) NULL,
       ASSISTANT_INTERPRETER_NAME varchar(300) NULL,
       ASSISTANT_INTERPRETER_ID varchar(100) NULL,
       ASSISTANT_INTER_ASS_AUTH_CD varchar(100) NULL,
       ASSISTANT_INTER_ASS_AUTH_TYPE varchar(50) NULL,
       RESULT_INTERPRETER_NAME varchar(300) NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_LABTEST_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	

)
go


ALTER TABLE dbo.LAB_TEST
       ADD PRIMARY KEY (LAB_TEST_KEY)
go


CREATE TABLE dbo.LAB_TEST_RESULT (
       LAB_TEST_KEY         numeric NOT NULL,
       RESULT_COMMENT_GRP_KEY numeric NOT NULL,
       TEST_RESULT_GRP_KEY  numeric NOT NULL,
       PERFORMING_LAB_KEY   numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       COPY_TO_PROVIDER_KEY numeric NOT NULL,
       LAB_TEST_TECHNICIAN_KEY numeric NOT NULL,
       SPECIMEN_COLLECTOR_KEY numeric NOT NULL,
       ORDERING_ORG_KEY     numeric NOT NULL,
       REPORTING_LAB_KEY    numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       LAB_RPT_DT_KEY       numeric NOT NULL,
       MORB_RPT_KEY         numeric NOT NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       ORDERING_PROVIDER_KEY numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_LABTESTRESULT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD PRIMARY KEY (RESULT_COMMENT_GRP_KEY, TEST_RESULT_GRP_KEY, 
              PERFORMING_LAB_KEY, PATIENT_KEY, COPY_TO_PROVIDER_KEY, 
              LAB_TEST_TECHNICIAN_KEY, SPECIMEN_COLLECTOR_KEY, 
              LAB_TEST_KEY, REPORTING_LAB_KEY, ORDERING_ORG_KEY, 
              CONDITION_KEY, LAB_RPT_DT_KEY, MORB_RPT_KEY, 
              INVESTIGATION_KEY, LDF_GROUP_KEY, ORDERING_PROVIDER_KEY)
go


CREATE TABLE dbo.LDF_DATA (
       LDF_DATA_KEY         numeric NOT NULL,
       LDF_GROUP_KEY        numeric NULL,
       LDF_COLUMN_TYPE      varchar(300) NULL,
       CONDITION_CD         varchar(10) NULL,
       CONDITION_DESC_TXT   varchar(100) NULL,
       CDC_NATIONAL_ID      varchar(50) NULL,
       CLASS_CD             varchar(10) NULL,
       CODE_SET_NM          varchar(20) NULL,
       BUSINESS_OBJ_NM      varchar(50) NULL,
       DISPLAY_ORDER_NUMBER int,
       FIELD_SIZE           varchar(10) NULL,
       LDF_VALUE            varchar(100) NULL,
       IMPORT_VERSION_NBR   BIGINT,
       LABEL_TXT 	    varchar(300) NULL,
       LDF_OID		    varchar(50) NULL,
       NND_IND		    varchar(1) NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_LDFDATA_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.LDF_DATA
       ADD PRIMARY KEY (LDF_DATA_KEY)
go


CREATE TABLE dbo.LDF_GROUP (
       LDF_GROUP_KEY        numeric NOT NULL
)
go


ALTER TABLE dbo.LDF_GROUP
       ADD PRIMARY KEY (LDF_GROUP_KEY)
go


CREATE TABLE dbo.LOCATION (
       LOCATION_KEY         numeric NOT NULL,
       NATION_CD            varchar(50) NULL,
       NATION_NM            varchar(300) NULL,
       STATE_FIPS           varchar(50) NULL,
       STATE_SHORT_DESC     varchar(100) NULL,
       CNTY_FIPS            varchar(50) NULL,
       CNTY_SHORT_DESC      varchar(300) NULL,
       CITY_FIPS            varchar(100) NULL,
       CITY_SHORT_DESC      varchar(100) NULL,
       ZIP_CD_5             varchar(20) NULL,
       STREET_ADDR_1        varchar(100) NULL,
       STREET_ADDR_2        varchar(100) NULL,
       ZIP_SHORT_DESC       varchar(300) NULL,
       WITHIN_CITY_LIMITS    varchar(10) NULL
)
go


ALTER TABLE dbo.LOCATION
       ADD PRIMARY KEY (LOCATION_KEY)
go


CREATE TABLE dbo.MEASLES_CASE (
       INV_RPT_DT_KEY       numeric NOT NULL,
       INV_ASSIGNED_DT_KEY  numeric NOT NULL,
       INVESTIGATOR_KEY     numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       PHYSICIAN_KEY        numeric NOT NULL,
       RPT_SRC_ORG_KEY      numeric NOT NULL,
       REPORTER_KEY         numeric NOT NULL,
       PATIENT_HAVE_RASH_IND varchar(50) NULL,
       RASH_ONSET_DT        datetime NULL,
       RASH_LAST_DAY_NBR    numeric NULL,
       PATIENT_HAVE_FEVER_IND varchar(50) NULL,
       RASH_GENERALIZED_IND varchar(50) NULL,
       HIGHEST_TEMPERATURE_MEASURED numeric NULL,
       HIGHEST_TEMPERATURE_UNIT varchar(50) NULL,
       COUGH_IND            varchar(50) NULL,
       CROUP_IND            varchar(50) NULL,
       CORYZA_IND           varchar(50) NULL,
       CONJUNCTIVITIS_IND   varchar(50) NULL,
       OTTIS_MEDIA_IND      varchar(50) NULL,
       DIARRHEA_IND         varchar(50) NULL,
       PNEUMONIA_IND        varchar(50) NULL,
       ENCEPHALITIS_IND     varchar(50) NULL,
       THROMBOCYTOPENIA_IND varchar(50) NULL,
       OTHER_COMPLICATION_IND varchar(50) NULL,
       OTHER_COMPLICATIONS  varchar(2000) NULL,
       IGM_SPECIMEN_TAKEN_DT datetime NULL,
       IGM_TEST_RESULT      varchar(50) NULL,
       IGG_ACUTE_SPECIMEN_TAKEN_DT datetime NULL,
       IGG_CONVALESCENT_SPECIMEN_DT datetime NULL,
       IGG_TEST_RESULT      varchar(50) NULL,
       OTHER_LAB_TEST_DONE_IND varchar(50) NULL,
       OTHER_LAB_TEST_DESC  varchar(2000) NULL,
       OTHER_LAB_TEST_DT    datetime NULL,
       OTHER_LAB_TEST_RESULT varchar(2000) NULL,
       SPECIMEN_TO_CDC_GENOTYPING_IND varchar(50) NULL,
       CONTAIN_MEASLES_VACC_RECEIVD varchar(50) NULL,
       NO_MEASLES_VACC_REASON varchar(50) NULL,
       NBR_DOSE_RECEIVED_PRIOR_1BDAY numeric NULL,
       NBR_DOSE_RECEIVED_SINCE_1BDAY numeric NULL,
       TRANSMISSION_SETTING varchar(50) NULL,
       AGE_AND_SETTING_VERIFIED_IND varchar(50) NULL,
       PATIENT_RESIDE_IN_USA_IND varchar(50) NULL,
       EPI_LINKED_TOANOTHER_CASE_IND varchar(50) NULL,
       FEVER_ONSET_DT       datetime NULL,
       GENOTYPING_DT        datetime NULL,
       IGM_TESTING_PERFORMED_IND varchar(50) NULL,
       IGG_TESTING_PERFORMED_IND varchar(50) NULL,
       RASH_OCCUR_IN_18DAYS_ENTER_USA varchar(50) NULL,
       SRC_OF_INFECTION     varchar(2000) NULL,
       MEASLES_SPECIMEN_TYPE varchar(2000) NULL,
       BEFORE_B_DAY_VACCINE_REASON varchar(50) NULL,
       AFTER_B_DAY_VACCINE_REASON varchar(50) NULL,
       ADT_HSPTL_KEY        numeric NOT NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       LAB_MEASLES_TEST_DONE_IND varchar(50) NULL,
       CONDITION_KEY        numeric NOT NULL,
       CASE_LOCATION_KEY    numeric NOT NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       HEPATITIS_IND        varchar(50) NULL,
       CASE_TRACEABLE_IND   varchar(50) NULL,
       GENOTYPE_SEQUENCED_MEASLES varchar(50) NULL,
       GENOTYPE_ID_MEASLES varchar(50) NULL,
       GENOTYPE_OTHER_ID_MEASLES varchar(50) NULL,
       GEOCODING_LOCATION_KEY NUMERIC(8)
)
go


ALTER TABLE dbo.MEASLES_CASE
       ADD PRIMARY KEY (INV_RPT_DT_KEY, INV_ASSIGNED_DT_KEY, 
              INVESTIGATOR_KEY, PATIENT_KEY, PHYSICIAN_KEY, 
              RPT_SRC_ORG_KEY, REPORTER_KEY, ADT_HSPTL_KEY, 
              INVESTIGATION_KEY, CONDITION_KEY, CASE_LOCATION_KEY, 
              LDF_GROUP_KEY)
go


CREATE TABLE dbo.MORB_RPT_USER_COMMENT (
       USER_COMMENT_KEY     numeric NOT NULL,
       MORB_RPT_KEY         numeric NOT NULL,
       EXTERNAL_MORB_RPT_COMMENTS varchar(2000) NULL,
       USER_COMMENTS_BY     numeric NULL,
       USER_COMMENTS_DT     datetime NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_MORBRPTUSERCMT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.MORB_RPT_USER_COMMENT
       ADD PRIMARY KEY (USER_COMMENT_KEY, MORB_RPT_KEY)
go


CREATE TABLE dbo.MORBIDITY_REPORT (
       MORB_RPT_KEY         numeric NOT NULL,
       MORB_RPT_UID         numeric NULL,
       MORB_RPT_LOCAL_ID    varchar(50) NULL,
       MORB_RPT_SHARE_IND   char(1) NULL,
       MORB_RPT_OID         numeric NULL,
       MORB_RPT_TYPE        varchar(50) NULL,
       MORB_RPT_COMMENTS    varchar(2000) NULL,
       MORB_RPT_DELIVERY_METHOD varchar(50) NULL,
       SUSPECT_FOOD_WTRBORNE_ILLNESS varchar(50) NULL,
       MORB_RPT_OTHER_SPECIFY varchar(2000) NULL,
       NURSING_HOME_ASSOCIATE_IND varchar(50) NULL,
       JURISDICTION_CD      varchar(20) NULL,
       JURISDICTION_NM      varchar(100) NULL,
       HEALTHCARE_ORG_ASSOCIATE_IND varchar(50) NULL,
       MORB_RPT_CREATE_BY   numeric NULL,
       MORB_RPT_LAST_UPDATE_DT datetime NULL,
       MORB_RPT_LAST_UPDATE_BY numeric NULL,
       DIAGNOSIS_DT         datetime NULL,
       HSPTL_ADMISSION_DT   datetime NULL,
       PH_RECEIVE_DT        datetime NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_MORBREPORT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.MORBIDITY_REPORT
       ADD PRIMARY KEY (MORB_RPT_KEY)
go


CREATE TABLE dbo.MORBIDITY_REPORT_EVENT (
       NURSING_HOME_KEY     numeric NOT NULL,
       HEALTH_CARE_KEY      numeric NOT NULL,
       MORB_RPT_CREATE_DT_KEY numeric NOT NULL,
       HSPTL_DISCHARGE_DT_KEY numeric NOT NULL,
       ILLNESS_ONSET_DT_KEY numeric NOT NULL,
       MORB_RPT_SRC_ORG_KEY numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       MORB_RPT_KEY         numeric NOT NULL,
       MORB_RPT_DT_KEY      numeric NOT NULL,
       PHYSICIAN_KEY        numeric NOT NULL,
       REPORTER_KEY         numeric NOT NULL,
       HSPTL_KEY            numeric NOT NULL,
       MORB_RPT_COUNT       numeric NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_MORBRPTEVNT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD PRIMARY KEY (NURSING_HOME_KEY, HEALTH_CARE_KEY, 
              MORB_RPT_CREATE_DT_KEY, HSPTL_DISCHARGE_DT_KEY, 
              ILLNESS_ONSET_DT_KEY, MORB_RPT_SRC_ORG_KEY, PATIENT_KEY, 
              MORB_RPT_KEY, MORB_RPT_DT_KEY, REPORTER_KEY, 
              PHYSICIAN_KEY, HSPTL_KEY, INVESTIGATION_KEY, 
              CONDITION_KEY, LDF_GROUP_KEY)
go


CREATE TABLE dbo.NAME (
       NAME_KEY             numeric NOT NULL,
       PERSON_LAST_NM       varchar(50) NULL,
       PERSON_FIRST_NM      varchar(50) NULL,
       PATIENT_NM_TYPE      varchar(50) NULL,
       PATIENT_NM_PREFIX    varchar(20) NULL,
       PATIENT_MIDDLE_NM    varchar(50) NULL,
       PATIENT_NM_SUFFIX    varchar(20) NULL
)
go


ALTER TABLE dbo.NAME
       ADD PRIMARY KEY (NAME_KEY)
go


CREATE TABLE dbo.NOTIFICATION (
       NOTIFICATION_STATUS  varchar(20) NULL,
       NOTIFICATION_COMMENTS varchar(1000) NULL,
       NOTIFICATION_KEY     numeric NOT NULL,
       NOTIFICATION_LOCAL_ID varchar(50) NULL,
       NOTIFICATION_SUBMITTED_BY numeric NULL
)
go


ALTER TABLE dbo.NOTIFICATION
       ADD PRIMARY KEY (NOTIFICATION_KEY)
go


CREATE TABLE dbo.NOTIFICATION_EVENT (
       PATIENT_KEY          numeric NOT NULL,
       NOTIFICATION_SENT_DT_KEY numeric NOT NULL,
       NOTIFICATION_SUBMIT_DT_KEY numeric NOT NULL,
       NOTIFICATION_KEY     numeric NOT NULL,
       COUNT                numeric NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL
)
go


ALTER TABLE dbo.NOTIFICATION_EVENT
       ADD PRIMARY KEY (PATIENT_KEY, NOTIFICATION_SENT_DT_KEY, 
              NOTIFICATION_SUBMIT_DT_KEY, INVESTIGATION_KEY, 
              CONDITION_KEY, NOTIFICATION_KEY)
go


CREATE TABLE dbo.ORG_CONTACT (
       CONTACT_KEY          numeric NOT NULL,
       ORG_KEY              numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_ORGCONTACT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	

)
go


ALTER TABLE dbo.ORG_CONTACT
       ADD PRIMARY KEY (CONTACT_KEY, ORG_KEY)
go


CREATE TABLE dbo.ORG_ID (
       ORG_ID_TYPE_CD       varchar(50) NULL,
       ORG_ID_TYPE_DESC     varchar(100) NULL,
       ORG_ID_ASSIGN_AUTH_CD varchar(50) NULL,
       ORG_ID_ASSIGN_AUTH_DESC varchar(100) NULL,
       ORG_KEY              numeric NOT NULL,
       ORG_ID_VAL           varchar(100) NULL,
       ORG_ID_KEY           numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_ORGID_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	

)
go


ALTER TABLE dbo.ORG_ID
       ADD PRIMARY KEY (ORG_KEY, ORG_ID_KEY)
go


CREATE TABLE dbo.ORG_LOCATION (
       ORG_KEY              numeric NOT NULL,
       LOCATION_KEY         numeric NOT NULL,
       ORG_LOCATION_EFF_DT  datetime NULL,
       ADDR_TYPE            varchar(50) NULL,
       ADDRESS_USE          varchar(50) NULL,
       ADDRESS_TYPE_DESC    varchar(100) NULL,
       ADDRESS_COMMENTS     varchar(2000) NULL,
       ORG_LOCATION_KEY     numeric NOT NULL,
       GEOCODING_LOCATION_KEY NUMERIC(8) NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_ORGLOC_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	

)
go


ALTER TABLE dbo.ORG_LOCATION
       ADD PRIMARY KEY (ORG_KEY, LOCATION_KEY, ORG_LOCATION_KEY)
go


CREATE TABLE dbo.GEOCODING_LOCATION(
GEOCODING_LOCATION_KEY NUMERIC(8),
	 add_time datetime ,
	 add_user_id numeric NULL, 
	 census_block_id varchar(20) NULL ,
	 city varchar(50) NULL ,
	 cnty_cd varchar(10) NULL ,
	 country varchar(50) NULL ,
	 data_type varchar(1) NULL ,
	 entity_class_cd varchar(10) NULL, 
	 entity_uid  numeric NULL ,
	 firm_name varchar(50)  NULL ,
	 geocoding_result_uid numeric NULL,
	 house_number varchar(20)  NULL ,
	 last_chg_time datetime ,
	 last_chg_user_id numeric NULL ,
	 latitude numeric NULL ,
	 location_quality_cd varchar(10) NULL ,
	 longitude numeric NULL ,
	 match_cd varchar(10) NULL ,
	 next_score_count numeric(5,2) NULL ,
	 next_score_diff numeric(5, 2) NULL ,
	 num_matches numeric(2) NULL ,
	 postal_locator_uid numeric NULL,
	 postfix_direction varchar(10) NULL ,
	 prefix_direction varchar(10) NULL ,
	 result_type varchar(1) NULL ,
	 score numeric (11, 2) NULL ,
	 segment_id varchar(20)  NULL ,
	 state varchar(2) NULL ,
	 street_addr1 varchar(100) NULL ,
	 street_addr2 varchar(100)  NULL ,
	 street_name varchar(50) NULL ,
	 street_type varchar(10) NULL ,
	 unit_number varchar(20) NULL ,
	 unit_type varchar(10) NULL ,
	 zip4_cd varchar(10) NULL ,
	 zip5_cd varchar(10) NULL ,
	 zip_cd varchar(10) NULL 
)
	go
	

CREATE TABLE dbo.ORG_ROLE (
       ORG_KEY              numeric NOT NULL,
       ORG_ROLE_KEY         numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_ORGROLE_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.ORG_ROLE
       ADD PRIMARY KEY (ORG_ROLE_KEY, ORG_KEY)
go


CREATE TABLE dbo.ORG_ROLE_CODE (
       ORG_ROLE_KEY         numeric NOT NULL,
       ORG_ROLE_CODE        varchar(40) NULL,
       ORG_ROLE_DESC        varchar(1000) NULL,
       ORG_ROLE_EFF_DT      datetime NULL,
       ORG_ROLE_END_DT      datetime NULL
)
go


ALTER TABLE dbo.ORG_ROLE_CODE
       ADD PRIMARY KEY (ORG_ROLE_KEY)
go


CREATE TABLE dbo.ORGANISM_RESULT_VALUE (
       ORGANISM_RESULT_VAL_KEY numeric NOT NULL,
       ORGANISM_RESULT_VAL_CD varchar(20) NULL,
       ORGANISM_NM          varchar(20) NULL,
       ORGANISM_RESULT_VAL_CD_SYS_CD varchar(20) NULL,
       ORGANISM_RESULT_VAL_CD_SYS_NM varchar(20) NULL
)
go


ALTER TABLE dbo.ORGANISM_RESULT_VALUE
       ADD PRIMARY KEY (ORGANISM_RESULT_VAL_KEY)
go


CREATE TABLE dbo.ORGANIZATION (
       ORG_LOCAL_ID         varchar(50) NULL,
       ORG_STATUS           char(1) NULL,
       ORG_STATUS_EFF_DT    datetime NULL,
       ORG_STD_INDUSTRY_CLS varchar(20) NULL,
       ORG_NM               varchar(100) NULL,
       ORG_INDUSTRY_STD_DESC varchar(100) NULL,
       ORG_URL              varchar(100) NULL,
       FACILITY_CLIA_NBR    varchar(100) NULL,
       ORG_ADD_TIME         datetime NULL,
       ORG_KEY              numeric NOT NULL,
       ORG_UID              numeric NULL,
       ORG_NM_TYPE          varchar(50) NULL,
       ORG_ADD_USER_ID      numeric NULL,
       ORG_COMMENTS         varchar(1000) NULL,
       ORG_ELECTRONIC_IND   varchar(50) NULL,
       ORG_QUICK_CD         varchar(100) NULL,
       ORG_QUICK_CD_DESC    varchar(100) NULL,
       ORG_Q_CD_ASSIGN_AUTH_DESC varchar(100) NULL,
       ORG_Q_CD_ASSIGN_AUTH_CD varchar(50) NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_ORG_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go

ALTER TABLE dbo.ORGANIZATION
       ADD PRIMARY KEY (ORG_KEY)
go

CREATE TABLE dbo.ORGANIZATION_LDF_GROUP (
       ORG_KEY              numeric NOT NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL 
       CONSTRAINT CHK_ORGLDF_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	

)
go


ALTER TABLE dbo.ORGANIZATION_LDF_GROUP
       ADD PRIMARY KEY (ORG_KEY, LDF_GROUP_KEY)
go


CREATE TABLE dbo.PERSON (
       PERSON_KEY           numeric NOT NULL,
       PERSON_LOCAL_ID      varchar(50) NULL,
       PERSON_DOB           datetime NULL,
       PERSON_CURR_GENDER   char(1) NULL,
       PATIENT_BIRTH_GENDER char(1) NULL,
       MULTIPLE_BIRTH_IND   varchar(50) NULL,
       PATIENT_MARITAL_STATUS varchar(20) NULL,
       NBR_ADULTS_IN_RESIDENCE numeric(4) NULL,
       PATIENT_PRIMARY_OCCUPATION varchar(25) NULL,
       NBR_CHILDREN_IN_RESIDENCE numeric(4) NULL,
       PATIENT_PRIMARY_LANG varchar(25) NULL,
       PATIENT_SSN          varchar(100) NULL,
       PATIENT_DECEASED_IND varchar(50) NULL,
       PATIENT_DECEASE_DT   datetime NULL,
       PATIENT_MOTHER_MAIDEN_NM varchar(100) NULL,
       PERSON_DEGREE        varchar(20) NULL,
       PATIENT_BIRTH_ORDER  numeric(5) NULL,
       HIGHEST_EDU_LVL_RECEIVED varchar(20) NULL,
       PERSON_UID           numeric NULL,
       PATIENT_HISPANIC_IND varchar(50) NULL,
       PATIENT_DESCRIPTION  varchar(2000) NULL,
       PERSON_ADD_TIME      datetime NULL,
       PERSON_ELECTRONIC_IND varchar(50) NULL,
       AGE_CALC_UNIT_CD     varchar(50) NULL,
       PERSON_FIRST_NM      varchar(50) NULL,
       PERSON_MIDDLE_NM     varchar(50) NULL,
       PERSON_NM_PREFIX     varchar(50) NULL,
       PERSON_NM_SUFFIX     varchar(50) NULL,
       PERSON_LAST_NM       varchar(50) NULL,
       AGE_REPORT_UNIT_CD   varchar(50) NULL,
       AGE_REPORTED_TIME    datetime NULL,
       AGE_REPORTED         numeric NULL,
       AGE_CATEGORY_CD      varchar(50) NULL,
       AGE_CALC_TIME        datetime NULL,
       AGE_CALC             numeric NULL,
       INFO_AS_OF_DT        datetime NULL,
       PERSON_SEX_AS_OF_DT  datetime NULL,
       PERSON_MORTALITY_AS_OF_DT datetime NULL,
       PERSON_ADMIN_INFO_AS_OF_DT datetime NULL,
       PATIENT_PRIMARY_LANG_DESC varchar(100) NULL,
       PATIENT_MARITAL_STATUS_DESC varchar(100) NULL,
       HIGHEST_EDU_LVL_RECEIVED_DESC varchar(100) NULL,
       MPR_IND              varchar(50) NULL,
       PERSON_TYPE_CD       varchar(20) NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_PERSON_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.PERSON
       ADD PRIMARY KEY (PERSON_KEY)
go


CREATE TABLE dbo.PERSON_CONTACT (
       CONTACT_KEY          numeric NOT NULL,
       PERSON_KEY           numeric NOT NULL,
       PERSON_CONTACT_INFO_AS_OF_DT datetime NULL,
       PERSON_CON_KEY       numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_PERSCONTACT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.PERSON_CONTACT
       ADD PRIMARY KEY (CONTACT_KEY, PERSON_KEY, PERSON_CON_KEY)
go


CREATE TABLE dbo.PERSON_ETHNICITY (
       PERSON_ETHNICITY_KEY numeric NOT NULL,
       PERSON_KEY           numeric NOT NULL,
       PERSON_ETHNICITY_AS_OF_DT datetime NULL,
       DETAIL_ETHNICITY_KEY numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_PERSETHN_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.PERSON_ETHNICITY
       ADD PRIMARY KEY (PERSON_ETHNICITY_KEY, PERSON_KEY, 
              DETAIL_ETHNICITY_KEY)
go


CREATE TABLE dbo.PERSON_FACT (
       PERSON_KEY           numeric NOT NULL
)
go


ALTER TABLE dbo.PERSON_FACT
       ADD PRIMARY KEY (PERSON_KEY)
go


CREATE TABLE dbo.PERSON_ID (
       PERSON_ID_TYPE_DESC  varchar(100) NULL,
       PERSON_ID_ASSIGN_AUTH_CD varchar(50) NULL,
       PERSON_ID_EXPIRE_DT  datetime NULL,
       PERSON_ID_ASSIGN_AUTH_DESC varchar(100) NULL,
       PATIENT_ID_TYPE      varchar(50) NOT NULL,
       PERSON_KEY           numeric NOT NULL,
       PERSON_ID_VAL        varchar(100) NULL,
       PERSON_ID_KEY        numeric NOT NULL,
       PERSON_ID_AS_OF_DT   datetime NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_PERSID_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.PERSON_ID
       ADD PRIMARY KEY (PERSON_KEY, PERSON_ID_KEY)
go


CREATE TABLE dbo.PERSON_LDF (
       PERSON_KEY           numeric NOT NULL,
       BUSINESS_DATA_1      varchar(50) NULL,
       BUSINESS_DATA_2      varchar(50) NULL,
       BUSINESS_DATA_N      varchar(50) NULL,
       TRAVEL_TO_COUNTRY_IND varchar(50) NULL,
       VISITED_CLINIC_IND   varchar(50) NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_PERSLDF_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.PERSON_LDF
       ADD PRIMARY KEY (PERSON_KEY)
go


CREATE TABLE dbo.PERSON_LDF_CLINIC (
       VISITED_START_DT     datetime NULL,
       VISITED_END_DT       datetime NULL,
       PERSON_KEY           numeric NOT NULL,
       CLINIC_KEY           numeric NOT NULL
)
go


ALTER TABLE dbo.PERSON_LDF_CLINIC
       ADD PRIMARY KEY (PERSON_KEY, CLINIC_KEY)
go


CREATE TABLE dbo.PERSON_LDF_GROUP (
       PERSON_KEY           numeric NOT NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_PERSLDFGRP_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.PERSON_LDF_GROUP
       ADD PRIMARY KEY (PERSON_KEY, LDF_GROUP_KEY)
go


CREATE TABLE dbo.PERSON_LOCATION (
       LOCATION_KEY         numeric NOT NULL,
       PERSON_KEY          numeric NOT NULL,
       PERSON_LOCATION_EFF_DT datetime NULL,
       BIRTH_LOCATION_IND   varchar(50) NULL,
       DECEASE_LOCATION_IND varchar(50) NULL,
       ADDR_TYPE            varchar(50) NULL,
       ADDRESS_USE          varchar(50) NULL,
       ADDRESS_TYPE_DESC    varchar(100) NULL,
       ADDRESS_COMMENTS     varchar(2000) NULL,
       PERSON_LOC_KEY       numeric NOT NULL,
       GEOCODING_LOCATION_KEY NUMERIC(8) NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL       
       CONSTRAINT CHK_PERSLOC_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.PERSON_LOCATION
       ADD PRIMARY KEY (PERSON_KEY, LOCATION_KEY, PERSON_LOC_KEY)
go


CREATE TABLE dbo.PERSON_NAME (
       NAME_KEY             numeric NOT NULL,
       PERSON_KEY           numeric NOT NULL,
       PERSON_NM_AS_OF_DT   datetime NULL,
       PERSON_NAME_KEY      numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_PERSNAME_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))
)
go


ALTER TABLE dbo.PERSON_NAME
       ADD PRIMARY KEY (NAME_KEY, PERSON_KEY, PERSON_NAME_KEY)
go


CREATE TABLE dbo.PERSON_RACE (
       RACE_KEY             numeric NOT NULL,
       PERSON_KEY           numeric NOT NULL,
       PERSON_RACE_AS_OF_DT datetime NULL,
       PERSON_RACE_KEY      numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_PERSRACE_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	

)
go


ALTER TABLE dbo.PERSON_RACE
       ADD PRIMARY KEY (RACE_KEY, PERSON_KEY, PERSON_RACE_KEY)
go


CREATE TABLE dbo.PERSON_RELATIONSHIP (
       PERSON_KEY           numeric NOT NULL,
       SUBJECT_ROLE_DESC    varchar(100) NULL,
       SCOPING_PERSON_KEY   numeric NULL,
       SUBJECT_CLASS_CD     varchar(50) NULL,
       SUBJECT_CLASS_DESC   varchar(300) NULL,
       SCOPING_ROLE_CD      varchar(50) NULL,
       SCOPING_CLASS_CD     varchar(50) NULL,
       SUBJECT_ROLE_CD      varchar(50) NULL,
       SCOPING_ROLE_DESC    varchar(100) NULL,
       RELATIONSHIP_INFO_EFF_DT datetime NULL,
       SCOPING_CLASS_DESC   varchar(300) NULL,
       RELATIONSHIP_INFO_END_DT datetime NULL,
       PERSON_RELATIONSHIP_SEQ_KEY numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_PERSRELATION_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.PERSON_RELATIONSHIP
       ADD PRIMARY KEY (PERSON_RELATIONSHIP_SEQ_KEY, PERSON_KEY)
go


CREATE TABLE dbo.PERTUSSIS_CASE (
       CASE_LOCATION_KEY    numeric NOT NULL,
       RPT_SRC_ORG_KEY      numeric NOT NULL,
       REPORTER_KEY         numeric NOT NULL,
       PHYSICIAN_KEY        numeric NOT NULL,
       INVESTIGATOR_KEY     numeric NOT NULL,
       INV_ASSIGNED_DT_KEY  numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       COUGH_ONSET_DT       datetime NULL,
       PAROXYSMAL_COUGH_IND varchar(50) NULL,
       WHOOP_IND            varchar(50) NULL,
       POST_TUSSIVE_VOMITING_IND varchar(50) NULL,
       COUGH_IND            varchar(50) NULL,
       APNEA_IND            varchar(50) NULL,
       FINAL_INTERVIEW_DT   datetime NULL,
       COUGH_AT_FINAL_INTERVIEW_IND varchar(50) NULL,
       COUGH_DURATION_DAYS  numeric NULL,
       PNEUMONIA_XRAY_RESULT varchar(50) NULL,
       GENERIZED_FOCAL_SEIZURE_IND varchar(50) NULL,
       ACUTE_ENCEPHALOPATHY_IND varchar(50) NULL,
       ANTIBIOTICS_GIVEN_IND varchar(50) NULL,
       LAB_TESTING_DONE_IND varchar(50) NULL,
       CULTURE_DT           datetime NULL,
       BORDETELLA_PRT_CULTURE_RESULT varchar(50) NULL,
       SEROLOGY_1_DT        datetime NULL,
       SEROLOGY_1_RESULT    varchar(50) NULL,
       SEROLOGY_2_DT        datetime NULL,
       SEROLOGY_2_RESULT    varchar(50) NULL,
       PCR_SPECIMEN_DT      datetime NULL,
       PCR_RESULT           varchar(50) NULL,
       EVER_RECEIVED_VACCINE_IND varchar(50) NULL,
       BEFORE_ILLNESS_LAST_VACCINE_DT datetime NULL,
       VACCINE_GIVEN_DOSE_NBR varchar(50) NULL,
       LESS_THAN_3_DOSES_REASON varchar(50) NULL,
       EPI_LINK_TO_OTHER_CASE_IND varchar(50) NULL,
       EPI_LINKED_TO_CASE_ID numeric(38) NULL,
       TRANSMISSION_SETTING varchar(20) NULL,
       SPREAD_BEYOND_XMISSION_SETTING varchar(50) NULL,
       SPREAD_SETTING_OUTSIDE_HOUSE varchar(50) NULL,
       SPREAD_SETTING_OUT_HOUSE_OTHER varchar(2000) NULL,
       ONE_OR_MORE_SUSPECT_SRC_IND varchar(50) NULL,
       SUSPECT_INFECTION_SRC_NBR numeric NULL,
       CONTACT_TO_RECEIVE_PROPHYLAXIS numeric NULL,
       OTHER_LAB_TEST_DONE_IND varchar(50) NULL,
       OTHER_LAB_TEST_DESC  varchar(2000) NULL,
       OTHER_LAB_TEST_DT    datetime NULL,
       OTHER_LAB_TEST_RESULT varchar(2000) NULL,
       BORDETELLA_CULTURE_TAKEN_IND varchar(50) NULL,
       BORDETELLA_SEROLOGY_1_DONE_IND varchar(50) NULL,
       BORDETELLA_SEROLOGY_2_DONE_IND varchar(50) NULL,
       BORDETELLA_PCR_TAKEN_IND varchar(50) NULL,
       SPECIMEN_TO_CDC_GENOTYPING_IND varchar(50) NULL,
       SPECIMEN_TO_CDC_GENOTYPING_DT datetime NULL,
       SPECIMENTO_CDC_GENOTYPING_TYPE varchar(2000) NULL,
       NOT_PERTUSSIS_VACCINED_REASON varchar(50) NULL,
       DOSES_NBR_2WEEKS_BEFORE_SICK varchar(50) NULL,
       ADT_HSPTL_KEY        numeric NOT NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       SEROLOGY_LAB1_NM     varchar(2000) NULL,
       SEROLOGY_LAB2_NM     varchar(2000) NULL,
       PCR_LAB              varchar(50) NULL,
       PCR_LAB_NM           varchar(2000) NULL,
       PERTUSSIS_SUSPECT_SRC_GRP_KEY numeric NOT NULL,
       PERTUSSIS_TREATMENT_GRP_KEY numeric NOT NULL,
       SEROLOGY_LAB1        varchar(50) NULL,
       SEROLOGY_LAB2        varchar(50) NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       BIRTH_WEIGHT_IN_GRAMS numeric NULL,
       BIRTH_WEIGHT_POUNDS  numeric NULL,
       BIRTH_WEIGHT_OUNCES  numeric NULL,
       BIRTH_WEIGHT_UNKNOWN  varchar(50) NULL,       
       MOTHERS_AGE   numeric NULL,
       PATIENT_LESS_THAN_12MONTHS varchar(50) NULL,
       GEOCODING_LOCATION_KEY NUMERIC(8)
)
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD PRIMARY KEY (CASE_LOCATION_KEY, RPT_SRC_ORG_KEY, 
              REPORTER_KEY, PHYSICIAN_KEY, INVESTIGATOR_KEY, 
              INV_ASSIGNED_DT_KEY, PATIENT_KEY, ADT_HSPTL_KEY, 
              INVESTIGATION_KEY, CONDITION_KEY, 
              PERTUSSIS_SUSPECT_SRC_GRP_KEY, 
              PERTUSSIS_TREATMENT_GRP_KEY, LDF_GROUP_KEY)
go


CREATE TABLE dbo.PERTUSSIS_SUSPECTED_SOURCE_FLD (
       SOURCE_AGE           numeric NULL,
       SOURCE_AGE_UNIT      varchar(50) NULL,
       SOURCE_GENDER        varchar(50) NULL,
       SOURCE_RELATION      varchar(50) NULL,
       SOURCE_RELATION_OTHER varchar(2000) NULL,
       SOURCE_VACC_DOSE_NUMBER varchar(50) NULL,
       SOURCE_COUGH_ONSET_DT datetime NULL,
       PERTUSSIS_SUSPECT_SRC_FLD_KEY numeric NOT NULL,
       PERTUSSIS_SUSPECT_SRC_GRP_KEY numeric NOT NULL
)
go


ALTER TABLE dbo.PERTUSSIS_SUSPECTED_SOURCE_FLD
       ADD PRIMARY KEY (PERTUSSIS_SUSPECT_SRC_FLD_KEY, 
              PERTUSSIS_SUSPECT_SRC_GRP_KEY)
go


CREATE TABLE dbo.PERTUSSIS_SUSPECTED_SOURCE_GRP (
       PERTUSSIS_SUSPECT_SRC_GRP_KEY numeric NOT NULL
)
go


ALTER TABLE dbo.PERTUSSIS_SUSPECTED_SOURCE_GRP
       ADD PRIMARY KEY (PERTUSSIS_SUSPECT_SRC_GRP_KEY)
go


CREATE TABLE dbo.PERTUSSIS_TREATMENT_FIELD (
       ANTIBIOTICS_RECEIVED_DESC varchar(50) NULL,
       PERTUSSIS_TREATMENT_FLD_KEY numeric NOT NULL,
       ANTIBIOTICS_START_DT datetime NULL,
       ANTIBIOTICS_TAKEN_DAY_NBR numeric(4) NULL,
       PERTUSSIS_TREATMENT_GRP_KEY numeric NOT NULL
)
go


ALTER TABLE dbo.PERTUSSIS_TREATMENT_FIELD
       ADD PRIMARY KEY (PERTUSSIS_TREATMENT_FLD_KEY, 
              PERTUSSIS_TREATMENT_GRP_KEY)
go


CREATE TABLE dbo.PERTUSSIS_TREATMENT_GROUP (
       PERTUSSIS_TREATMENT_GRP_KEY numeric NOT NULL
)
go


ALTER TABLE dbo.PERTUSSIS_TREATMENT_GROUP
       ADD PRIMARY KEY (PERTUSSIS_TREATMENT_GRP_KEY)
go


CREATE TABLE dbo.RACE (
       RACE_KEY             numeric NOT NULL,
       RACE_DESC            varchar(100) NOT NULL,
       RACE_CAT_CD          varchar(50) NOT NULL,
       RACE_CD              varchar(20) NOT NULL,
       RACE_CD_EFF_DT       datetime NULL,
       RACE_CD_END_DT       datetime NULL,
       PARENT_IS_CD         varchar(20) NULL
)
go


ALTER TABLE dbo.RACE
       ADD PRIMARY KEY (RACE_KEY)
go


CREATE TABLE dbo.RDB_DATE (
       DATE_MM_DD_YYYY      datetime NULL,
       DAY_OF_WEEK          varchar(10) NULL,
       DAY_NBR_IN_CLNDR_MON numeric(4) NULL,
       DAY_NBR_IN_CLNDR_YR  numeric(4) NULL,
       WK_NBR_IN_CLNDR_MON  numeric(4) NULL,
       WK_NBR_IN_CLNDR_YR   numeric(4) NULL,
       CLNDR_MON_NAME       varchar(20) NULL,
       CLNDR_MON_IN_YR      numeric(4) NULL,
       CLNDR_QRTR           numeric(4) NULL,
       CLNDR_YR             numeric NULL,
       DATE_KEY             numeric NOT NULL
)
go


ALTER TABLE dbo.RDB_DATE
       ADD PRIMARY KEY (DATE_KEY)
go


CREATE TABLE dbo.RESULT_COMMENT_GROUP (
       RESULT_COMMENT_GRP_KEY numeric NOT NULL
)
go


ALTER TABLE dbo.RESULT_COMMENT_GROUP
       ADD PRIMARY KEY (RESULT_COMMENT_GRP_KEY)
go


CREATE TABLE dbo.RUBELLA_CASE (
       INVESTIGATOR_KEY     numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       PHYSICIAN_KEY        numeric NOT NULL,
       REPORTER_KEY         numeric NOT NULL,
       INV_ASSIGNED_DT_KEY  numeric NOT NULL,
       CASE_LOCATION_KEY    numeric NOT NULL,
       LENGTH_OF_TIME_IN_US numeric NULL,
       MACULOPAPULAR_RASH_IND varchar(50) NULL,
       PATIENT_RASH_ONSET_DT datetime NULL,
       RASH_DURATION_DAYS   numeric NULL,
       PATIENT_FEVER_IND    varchar(50) NULL,
       HIGHEST_MEASURED_TEMPERATURE numeric NULL,
       HIGHEST_TEMPERATUR_UNIT varchar(50) NULL,
       ARTHRALGIA_ARTHRITIS_SYMPTOM varchar(50) NULL,
       LYMPHADENOPATHY_IND  varchar(50) NULL,
       CONJUNCTIVITIS_IND   varchar(50) NULL,
       ENCEPHALITIS_IND     varchar(50) NULL,
       THROMBOCYTOPENIA_IND varchar(50) NULL,
       OTHER_COMPLICATIONS_IND varchar(50) NULL,
       OTHER_COMPLICATIONS_DESC varchar(2000) NULL,
       CAUSE_OF_DEATH       varchar(2000) NULL,
       HSPTL_ADMISSION_DT   datetime NULL,
       HSPTL_DISCHARGE_DT   datetime NULL,
       RUBELLA_LAB_TEST_DONE_IND varchar(50) NULL,
       RUBELLA_IGM_EIA_TEST_IND varchar(50) NULL,
       RUBELLA_IGM_EIA_TEST_DT datetime NULL,
       RUBELLA_IGM_EIA_TEST_RESULT varchar(50) NULL,
       RUBELLA_IGM_EIA_CAPTURE_IND varchar(50) NULL,
       RUBELLA_IGM_EIA_CAPTURE_DT datetime NULL,
       RUBELLA_IGM_EIA_CAPTURE_RESULT varchar(50) NULL,
       OTHER_RUBELLA_IGM_IND varchar(50) NULL,
       OTHER_RUBELLA_IGM_DESC varchar(2000) NULL,
       OTHER_RUBELLA_IGM_DT datetime NULL,
       OTHER_RUBELLA_IGM_RESULT varchar(50) NULL,
       RUBELLA_IGG_EIA_ACUTE_IND varchar(50) NULL,
       RUBELLA_IGG_EIA_ACUTE_DT datetime NULL,
       RUBELLA_IGG_EIA_CNVLSNT_IND varchar(50) NULL,
       RUBELLA_IGG_EIA_CNVLSNT_DT datetime NULL,
       IGG_EIA_ACUTE_CNVLSNT_DIFF varchar(50) NULL,
       HEMAG_INHIBIT_ACUTE_IND varchar(50) NULL,
       HEMAG_INHIBIT_ACUTE_DT datetime NULL,
       HEMAG_INHIBIT_CNVLSNT_IND varchar(50) NULL,
       HEMAG_INHIBIT_CNVLSNT_DT datetime NULL,
       HEMAGINHIBIT_ACUTECNVLSNT_DIFF varchar(50) NULL,
       CMPLMNT_FIXATION_ACUTE_IND varchar(50) NULL,
       CMPLMNT_FIXATION_ACUTE_DT datetime NULL,
       CMPLMNT_FIXATION_CNVLSNT_IND varchar(50) NULL,
       CMPLMNT_FIXATION_CNVLSNT_DT datetime NULL,
       CMPLMNT_FIX_ACUTE_CNVLSNT_DIFF varchar(50) NULL,
       RUBELLA_IGG_OTHER_TEST1_IND varchar(50) NULL,
       RUBELLA_IGG_OTHER_TEST1_DESC varchar(2000) NULL,
       RUBELLA_IGG_OTHER_TEST1_DT datetime NULL,
       RUBELLA_IGG_OTHER_TEST1_RESULT varchar(50) NULL,
       RUBELLA_IGG_OTHER_TEST2_IND varchar(50) NULL,
       RUBELLA_IGG_OTHER_TEST2_DESC varchar(2000) NULL,
       RUBELLA_IGG_OTHER_TEST2_DT datetime NULL,
       RUBELLA_IGG_OTHER_TEST2_RESULT varchar(50) NULL,
       RUBELLA_IGG_OTHER_TEST3_IND varchar(50) NULL,
       RUBELLA_IGG_OTHER_TEST3_DESC varchar(2000) NULL,
       RUBELLA_IGG_OTHER_TEST_3_DT datetime NULL,
       RUBELLA_IGG_OTHER_TEST3_RESULT varchar(50) NULL,
       VIRUS_ISOLATION_PERFORMED_IND varchar(50) NULL,
       VIRUS_ISOLATION_PERFORMED_DT datetime NULL,
       VIRUS_ISOLATION_PERFORMED_SRC varchar(50) NULL,
       VIRUS_ISOLATION_OTHER_SRC varchar(2000) NULL,
       RT_PCR_PERFORMED_IND varchar(50) NULL,
       RT_PCR_DT            datetime NULL,
       RT_PCR_SRC           varchar(50) NULL,
       RT_PCR_RESULT        varchar(50) NULL,
       RT_PCR_OTHER_SRC     varchar(2000) NULL,
       LATEX_AGGLUTINATION_TESTED_IND varchar(50) NULL,
       LATEX_AGGLUTINATION_TESTED_DT datetime NULL,
       LATEX_AGGLUTINATION_TESTRESULT varchar(50) NULL,
       IMMUNOFLUORESCENT_ASSAY_IND varchar(50) NULL,
       IMMUNOFLUORESCENT_ASSAY_DT datetime NULL,
       IMMUNOFLUORESCENT_ASSAY_SRC varchar(50) NULL,
       IMMUNOFLUORESCENT_ASSAY_RESULT varchar(50) NULL,
       IMUNOFLRESNT_ASSAY_OTHER_SRC varchar(2000) NULL,
       OTHER_RUBELLA_TEST_DONE_IND varchar(50) NULL,
       OTHER_RUBELLA_TEST_DESC varchar(2000) NULL,
       OTHER_RUBELLA_TEST_DT datetime NULL,
       OTHER_RUBELLA_TEST_RESULT varchar(2000) NULL,
       SPECIMEN_TO_CDC_GENOTYPING_IND varchar(50) NULL,
       SPECIMENTO_CDC_GENOTYPING_TYPE varchar(20) NULL,
       GENOTYPING_SPECIMEN_OTHER_TYPE varchar(2000) NULL,
       RUBELLA_VACCINE_RECEIVED_IND varchar(50) NULL,
       RUBELLA_VACCINED_NEVER_REASON varchar(50) NULL,
       ON_AFTER_1ST_DOB_DOSES_NBR numeric NULL,
       TRANSMISSION_SETTING varchar(20) NULL,
       EPI_LINKED_TO_ANOTHER_CASE_IND varchar(50) NULL,
       PREGNANCY_IND        varchar(50) NULL,
       PREGNANCY_DELIVERY_EXPECTED_DT datetime NULL,
       EXPECTED_DELIVERY_PLACE varchar(2000) NULL,
       GESTATION_WK_NBR_AT_RUBELLA numeric NULL,
       GESTATION_TRIMESTER_ST_RUBELLA varchar(50) NULL,
       PREVIOUS_RUBELLA_IMMUNITY_DOC varchar(50) NULL,
       PREVIOUSIMMUNITY_TESTINGRESULT varchar(50) NULL,
       PREVIOUS_IMMUNITY_TESTING_YR numeric NULL,
       WOMAN_AGE_AT_IMMUNITY_TESTING numeric NULL,
       RUBELLA_PRIOR_TO_PREGNANCY_IND varchar(50) NULL,
       SEROLOGICALLYCONFIRMED_RUBELLA varchar(50) NULL,
       PREVIOUS_DISS_YR     numeric NULL,
       PREVIOUS_DISS_AGE    numeric NULL,
       PREGNANCY_CURRENT_OUTCOME varchar(50) NULL,
       LIVE_BIRTH_OUTCOME   varchar(50) NULL,
       NON_LIVING_BIRTH_OUTCOME varchar(50) NULL,
       PREGNANCY_CESSATION_FETUS_WK numeric NULL,
       NON_LIVING_BIRTH_AUTOPSY_STUDY varchar(50) NULL,
       AUTOPSY_PATHOLOGY_STUDY_RESULT varchar(2000) NULL,
       RUBELLA_GENOTYPING_DT datetime NULL,
       EIA_ACUTE_TEST_RESULT_VALUE varchar(2000) NULL,
       EIA_CNVLSNT_TEST_RESULT_VALUE varchar(2000) NULL,
       HEMAG_INHIBIT_ACUTE_VALUE varchar(2000) NULL,
       HEMAG_INHIBIT_CNVLSNT_VALUE varchar(2000) NULL,
       CMPLMNT_FIXATION_ACUTE_VALUE varchar(2000) NULL,
       CMPLMNT_FIXATION_CNVLSNT_VALUE varchar(2000) NULL,
       ARTHRALGIA_ARTHRITIS_COMPLICAT varchar(50) NULL,
       IGM_EIA_1ST_TEST_RESULT_VALUE varchar(2000) NULL,
       IGM_EIA_2ND_TEST_RESULT_VALUE varchar(2000) NULL,
       OTHER_IGM_TEST_RESULT_VALUE varchar(2000) NULL,
       IGG_OTHER_TEST_1_RESULT_VALUE varchar(2000) NULL,
       IGG_OTHER_TEST_2_RESULT_VALUE varchar(2000) NULL,
       RT_PCR_TEST_RESULT_VALUE varchar(2000) NULL,
       LATEX_AGG_TEST_RESULT_VALUE varchar(2000) NULL,
       ASSAY_TEST_RESULT_VALUE varchar(2000) NULL,
       OTHER_RUBELLA_TESTRESULT_VALUE varchar(2000) NULL,
       INFECTION_SRC        varchar(2000) NULL,
       RASH_ONSET_ENTERING_USA varchar(50) NULL,
       IGM_EIA_1ST_METHOD_USED varchar(50) NULL,
       IGM_EIA_2ND_METHOD_USED varchar(50) NULL,
       IGG_OTHER_TEST_3_RESULT_VALUE varchar(2000) NULL,
       ADT_HSPTL_KEY        numeric NOT NULL,
       RPT_SRC_ORG_KEY      numeric NOT NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       VIRUS_ISOLATION_RESULT varchar(50) NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       BIRTH_COUNTRY        varchar(50) NULL,
       RUBELLA_CASE_TRACEABLE_IND varchar(50) NULL,	
       GENOTYPE_SEQUENCED_RUBELLA varchar(50) NULL,
       GENOTYPE_ID_RUBELLA varchar(50) NULL,
       GENOTYPE_OTHER_ID_RUBELLA varchar(50) NULL,
       GEOCODING_LOCATION_KEY NUMERIC(8)
)
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD PRIMARY KEY (INVESTIGATOR_KEY, PATIENT_KEY, PHYSICIAN_KEY, 
              REPORTER_KEY, INV_ASSIGNED_DT_KEY, CASE_LOCATION_KEY, 
              ADT_HSPTL_KEY, RPT_SRC_ORG_KEY, INVESTIGATION_KEY, 
              CONDITION_KEY, LDF_GROUP_KEY)
go


CREATE TABLE dbo.SUMMARY_CASE_GROUP (
       SUMMARY_CASE_SRC_KEY numeric NOT NULL,
       SUMMARY_CASE_SRC_TXT varchar(100) NULL
)
go


ALTER TABLE dbo.SUMMARY_CASE_GROUP
       ADD PRIMARY KEY (SUMMARY_CASE_SRC_KEY)
go


CREATE TABLE dbo.SUMMARY_REPORT_CASE (
       SUM_RPT_CASE_COUNT   numeric NULL,
       SUM_RPT_CASE_COMMENTS varchar(2000) NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       SUM_RPT_CASE_STATUS  varchar(20) NULL,
       SUMMARY_CASE_SRC_KEY numeric NOT NULL,
       NOTIFICATION_SEND_DT_KEY numeric NOT NULL,
       LOCATION_KEY         numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       _LAST_UPDATE_DT_KEY  numeric NULL
)
go


ALTER TABLE dbo.SUMMARY_REPORT_CASE
       ADD PRIMARY KEY (INVESTIGATION_KEY, SUMMARY_CASE_SRC_KEY, 
              NOTIFICATION_SEND_DT_KEY, LOCATION_KEY, CONDITION_KEY, 
              LDF_GROUP_KEY)
go


CREATE TABLE dbo.TEST_RESULT_GROUPING (
       TEST_RESULT_GRP_KEY  numeric NOT NULL
)
go


ALTER TABLE dbo.TEST_RESULT_GROUPING
       ADD PRIMARY KEY (TEST_RESULT_GRP_KEY)
go


CREATE TABLE dbo.TREATMENT (
       TREATMENT_KEY        numeric NOT NULL,
       TREATMENT_UID        numeric NULL,
       TREATMENT_LOCAL_ID   varchar(50) NULL,
       TREATMENT_NM         varchar(150) NULL,
       TREATMENT_DRUG       varchar(50) NULL,
       TREATMENT_DOSAGE_STRENGTH varchar(20) NULL,
       TREATMENT_DOSAGE_STRENGTH_UNIT varchar(20) NULL,
       TREATMENT_FREQUENCY  varchar(20) NULL,
       TREATMENT_DURATION   varchar(10) NULL,
       TREATMENT_DURATION_UNIT varchar(20) NULL,
       TREATMENT_COMMENTS   varchar(1000) NULL,
       TREATMENT_ROUTE      varchar(25) NULL,
       CUSTOM_TREATMENT     varchar(100) NULL,
       TREATMENT_SHARED_IND varchar(50) NULL,
       TREATMENT_OID        numeric NULL,       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_TREATMENT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.TREATMENT
       ADD PRIMARY KEY (TREATMENT_KEY)
go


CREATE TABLE dbo.TREATMENT_EVENT (
       TREATMENT_DT_KEY     numeric NOT NULL,
       TREATMENT_PROVIDING_ORG_KEY numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       TREATMENT_COUNT      numeric NULL,
       TREATMENT_KEY        numeric NOT NULL,
       MORB_RPT_KEY         numeric NOT NULL,
       TREATMENT_PHYSICIAN_KEY numeric NOT NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       CONDITION_KEY        numeric NOT NULL,
       LDF_GROUP_KEY        numeric NOT NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_TREATMENT_EVENT_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE')) 
)
go


ALTER TABLE dbo.TREATMENT_EVENT
       ADD PRIMARY KEY (TREATMENT_DT_KEY, TREATMENT_PROVIDING_ORG_KEY, 
              PATIENT_KEY, TREATMENT_KEY, MORB_RPT_KEY, 
              TREATMENT_PHYSICIAN_KEY, INVESTIGATION_KEY, 
              CONDITION_KEY, LDF_GROUP_KEY )
go


CREATE TABLE dbo.VACCINATION (
       VACCINE_MANUFACTURER_ORG_KEY numeric NOT NULL,
       VACCINATION_DT_KEY   numeric NOT NULL,
       VACCINE_GIVEN_BY_ORG_KEY numeric NOT NULL,
       PATIENT_KEY          numeric NOT NULL,
       VACCINATION_ADMIND_NM varchar(100) NULL,
       VACCINATION_RECORD_ID varchar(50) NULL,
       VACCINATION_ANATOMICAL_SITE varchar(25) NULL,
       AGE_AT_VACCINATION   numeric NULL,
       AGE_AT_VACCINATION_UNIT varchar(50) NULL,
       VACCINE_LOT_NBR      varchar(50) NULL,
       VACCINE_EXPIRATION_DT datetime NULL,
       VACCINE_GIVEN_BY_KEY numeric NOT NULL,
       INVESTIGATION_KEY    numeric NOT NULL,
       LDF_GROUP_KEY NUMERIC(8) NULL,
       RECORD_STATUS_CD varchar(8) NOT NULL
       CONSTRAINT CHK_VACCINE_RECORD_STATUS CHECK(RECORD_STATUS_CD IN('ACTIVE' ,'INACTIVE'))  	
)
go


ALTER TABLE dbo.VACCINATION
       ADD PRIMARY KEY (VACCINE_MANUFACTURER_ORG_KEY, 
              VACCINATION_DT_KEY, VACCINE_GIVEN_BY_ORG_KEY, 
              PATIENT_KEY, VACCINE_GIVEN_BY_KEY, INVESTIGATION_KEY)
go

ALTER TABLE dbo.ANTIBIOTICS
       ADD FOREIGN KEY (ANTIBIOTICS_GRP_KEY)
                             REFERENCES ANTIBIOTICS_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.ANTIMICROBIAL
       ADD FOREIGN KEY (ANTIMICROBIAL_GRP_KEY)
                             REFERENCES ANTIMICROBIAL_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (REPORTER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (INVESTIGATOR_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (PHYSICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (DAYCARE_FACILITY_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (NURSING_HOME_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (CASE_LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (INV_ASSIGNED_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (BMIRD_MULTI_VAL_GRP_KEY)
                             REFERENCES BMIRD_MULTI_VALUE_FIELD_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (ANTIBIOTICS_GRP_KEY)
                             REFERENCES ANTIBIOTICS_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (ANTIMICROBIAL_GRP_KEY)
                             REFERENCES ANTIMICROBIAL_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (ADT_HSPTL_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (RPT_SRC_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_CASE
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.BMIRD_MULTI_VALUE_FIELD
       ADD FOREIGN KEY (BMIRD_MULTI_VAL_GRP_KEY)
                             REFERENCES BMIRD_MULTI_VALUE_FIELD_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CASE_COUNT
       ADD FOREIGN KEY (INVESTIGATOR_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CASE_COUNT
       ADD FOREIGN KEY (REPORTER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CASE_COUNT
       ADD FOREIGN KEY (PHYSICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CASE_COUNT
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CASE_COUNT
       ADD FOREIGN KEY (RPT_SRC_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CASE_COUNT
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CASE_COUNT
       ADD FOREIGN KEY (INV_ASSIGNED_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CASE_COUNT
       ADD FOREIGN KEY (CASE_LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CASE_COUNT
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CODE_VAL_GENERAL
       ADD FOREIGN KEY (CD)
                             REFERENCES CODESET
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CONFIRMATION_METHOD_GROUP
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CONFIRMATION_METHOD_GROUP
       ADD FOREIGN KEY (CONFIRMATION_METHOD_KEY)
                             REFERENCES CONFIRMATION_METHOD
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.COUNTRY_TRAVELED_TO_LDF
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON_LDF
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (CASE_LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (PHYSICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (INVESTIGATOR_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (REPORTER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (INV_ASSIGNED_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (ADT_HSPTL_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (RPT_SRC_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.CRS_CASE
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (INV_ASSIGNED_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (RPT_SRC_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (ADT_HSPTL_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (CASE_LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (INVESTIGATOR_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (PHYSICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (REPORTER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.GENERIC_CASE
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEP_MULTI_VALUE_FIELD
       ADD FOREIGN KEY (HEP_MULTI_VAL_GRP_KEY)
                             REFERENCES HEP_MULTI_VALUE_FIELD_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (CASE_LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (PHYSICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (REPORTER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (INVESTIGATOR_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (RPT_SRC_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go




ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (INV_ASSIGNED_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go



ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (HEP_MULTI_VAL_GRP_KEY)
                             REFERENCES HEP_MULTI_VALUE_FIELD_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (ADT_HSPTL_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.HEPATITIS_CASE
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_RESULT_COMMENT
       ADD FOREIGN KEY (RESULT_COMMENT_GRP_KEY)
                             REFERENCES RESULT_COMMENT_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_RESULT_CONDITION
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_RESULT_CONDITION
       ADD FOREIGN KEY (LAB_RESULT_GRP_KEY)
                             REFERENCES LAB_RESULT_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_RESULT_VAL
       ADD FOREIGN KEY (TEST_RESULT_GRP_KEY)
                             REFERENCES TEST_RESULT_GROUPING
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_RPT_USER_COMMENT
       ADD FOREIGN KEY (LAB_TEST_KEY)
                             REFERENCES LAB_TEST
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (RESULT_COMMENT_GRP_KEY)
                             REFERENCES RESULT_COMMENT_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (TEST_RESULT_GRP_KEY)
                             REFERENCES TEST_RESULT_GROUPING
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (PERFORMING_LAB_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (LAB_TEST_TECHNICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (COPY_TO_PROVIDER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (SPECIMEN_COLLECTOR_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (LAB_TEST_KEY)
                             REFERENCES LAB_TEST
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (REPORTING_LAB_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (ORDERING_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (LAB_RPT_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (MORB_RPT_KEY)
                             REFERENCES MORBIDITY_REPORT
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LAB_TEST_RESULT
       ADD FOREIGN KEY (ORDERING_PROVIDER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.LDF_DATA
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (INV_ASSIGNED_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (INVESTIGATOR_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (PHYSICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (REPORTER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (INV_RPT_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (RPT_SRC_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (ADT_HSPTL_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MEASLES_CASE
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORB_RPT_USER_COMMENT
       ADD FOREIGN KEY (MORB_RPT_KEY)
                             REFERENCES MORBIDITY_REPORT
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (PHYSICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (REPORTER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (HEALTH_CARE_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (HSPTL_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (NURSING_HOME_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (MORB_RPT_SRC_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (MORB_RPT_KEY)
                             REFERENCES MORBIDITY_REPORT
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (HSPTL_DISCHARGE_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (ILLNESS_ONSET_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (MORB_RPT_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (MORB_RPT_CREATE_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.MORBIDITY_REPORT_EVENT
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.NOTIFICATION_EVENT
       ADD FOREIGN KEY (NOTIFICATION_SENT_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.NOTIFICATION_EVENT
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.NOTIFICATION_EVENT
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.NOTIFICATION_EVENT
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.NOTIFICATION_EVENT
       ADD FOREIGN KEY (NOTIFICATION_SUBMIT_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.NOTIFICATION_EVENT
       ADD FOREIGN KEY (NOTIFICATION_KEY)
                             REFERENCES NOTIFICATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.ORG_CONTACT
       ADD FOREIGN KEY (CONTACT_KEY)
                             REFERENCES CONTACT_INFO
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.ORG_CONTACT
       ADD FOREIGN KEY (ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.ORG_ID
       ADD FOREIGN KEY (ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.ORG_LOCATION
       ADD FOREIGN KEY (LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.ORG_LOCATION
       ADD FOREIGN KEY (ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.ORG_ROLE
       ADD FOREIGN KEY (ORG_ROLE_KEY)
                             REFERENCES ORG_ROLE_CODE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.ORG_ROLE
       ADD FOREIGN KEY (ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go



ALTER TABLE dbo.ORGANIZATION_LDF_GROUP
       ADD FOREIGN KEY (ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.ORGANIZATION_LDF_GROUP
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_CONTACT
       ADD FOREIGN KEY (CONTACT_KEY)
                             REFERENCES CONTACT_INFO
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_CONTACT
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_ETHNICITY
       ADD FOREIGN KEY (DETAIL_ETHNICITY_KEY)
                             REFERENCES DETAIL_ETHNICITY
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_ETHNICITY
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_FACT
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_ID
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_LDF
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_LDF_CLINIC
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON_LDF
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_LDF_CLINIC
       ADD FOREIGN KEY (CLINIC_KEY)
                             REFERENCES CLINIC_VISITED
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_LDF_GROUP
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_LDF_GROUP
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_LOCATION
       ADD FOREIGN KEY (LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_LOCATION
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_NAME
       ADD FOREIGN KEY (NAME_KEY)
                             REFERENCES NAME
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_NAME
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_RACE
       ADD FOREIGN KEY (RACE_KEY)
                             REFERENCES RACE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_RACE
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERSON_RELATIONSHIP
       ADD FOREIGN KEY (PERSON_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (CASE_LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (RPT_SRC_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (REPORTER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (PHYSICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (INVESTIGATOR_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (INV_ASSIGNED_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (ADT_HSPTL_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (PERTUSSIS_SUSPECT_SRC_GRP_KEY)
                             REFERENCES PERTUSSIS_SUSPECTED_SOURCE_GRP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_CASE
       ADD FOREIGN KEY (PERTUSSIS_TREATMENT_GRP_KEY)
                             REFERENCES PERTUSSIS_TREATMENT_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_SUSPECTED_SOURCE_FLD
       ADD FOREIGN KEY (PERTUSSIS_SUSPECT_SRC_GRP_KEY)
                             REFERENCES PERTUSSIS_SUSPECTED_SOURCE_GRP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.PERTUSSIS_TREATMENT_FIELD
       ADD FOREIGN KEY (PERTUSSIS_TREATMENT_GRP_KEY)
                             REFERENCES PERTUSSIS_TREATMENT_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (CASE_LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (REPORTER_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (PHYSICIAN_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (INVESTIGATOR_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (INV_ASSIGNED_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (RPT_SRC_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (ADT_HSPTL_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.RUBELLA_CASE
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.SUMMARY_REPORT_CASE
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.SUMMARY_REPORT_CASE
       ADD FOREIGN KEY (SUMMARY_CASE_SRC_KEY)
                             REFERENCES SUMMARY_CASE_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.SUMMARY_REPORT_CASE
       ADD FOREIGN KEY (NOTIFICATION_SEND_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.SUMMARY_REPORT_CASE
       ADD FOREIGN KEY (CONDITION_KEY)
                             REFERENCES CONDITION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.SUMMARY_REPORT_CASE
       ADD FOREIGN KEY (LOCATION_KEY)
                             REFERENCES LOCATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.SUMMARY_REPORT_CASE
       ADD FOREIGN KEY (LDF_GROUP_KEY)
                             REFERENCES LDF_GROUP
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.VACCINATION
       ADD FOREIGN KEY (VACCINE_MANUFACTURER_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.VACCINATION
       ADD FOREIGN KEY (PATIENT_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.VACCINATION
       ADD FOREIGN KEY (VACCINE_GIVEN_BY_ORG_KEY)
                             REFERENCES ORGANIZATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.VACCINATION
       ADD FOREIGN KEY (VACCINATION_DT_KEY)
                             REFERENCES RDB_DATE
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.VACCINATION
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION
go


ALTER TABLE dbo.VACCINATION
       ADD FOREIGN KEY (VACCINE_GIVEN_BY_KEY)
                             REFERENCES PERSON
                             ON DELETE NO ACTION
go



-- R111 to R112

ALTER TABLE dbo.HEPATITIS_CASE add  INV_PATIENT_CHART_NBR   VARCHAR(2000)
Go


-- R113 to R113 Service pack 1
ALTER TABLE dbo.LAB_TEST add  CONDITION_CD   VARCHAR(20)
Go

Alter table  LDF_DATA alter column LDF_VALUE   varchar(2000)
go

Alter table  LDF_DATA alter column CLASS_CD   varchar(20)
go

-- added by ERG for release 113 sp2
CREATE TABLE dbo.USER_PROFILE
(
  NEDSS_ENTRY_ID  BIGINT    NOT NULL,
  FIRST_NM        VARCHAR(50),
  LAST_UPD_TIME   DATETIME,
  LAST_NM         VARCHAR(50),
  CONSTRAINT pk_user_profile PRIMARY KEY CLUSTERED (nedss_entry_id)
) on [PRIMARY]

GO



create view dbo.REJECTED_NND as      
SELECT 
  c.condition_desc,
  c.condition_cd,
  rd.date_mm_dd_yyyy,
  n.notification_status,
  n.notification_comments,
  i.inv_case_status,
  i.inv_local_id,
  i.case_rpt_mmwr_wk,
  i.case_rpt_mmwr_yr,
  p.person_local_id,
  p.person_first_nm,
  p.person_last_nm,
  i.jurisdiction_nm,
  i.investigation_status,
  i.case_oid AS 'program_jurisdiction_oid'
FROM 
  rdb..notification_event ne,
  rdb..notification n,
  rdb..condition c,
  rdb..investigation i,
  rdb..person p,
  rdb..rdb_date rd
WHERE 
  ne.notification_key = n.notification_key  and
  ne.notification_submit_dt_key = rd.date_key  and
  ne.condition_key = c.condition_key  and
  ne.investigation_key = i.investigation_key  and
  ne.patient_key = p.person_key  and
  n.notification_status = 'REJECTED'  and
  i.case_type !=  'S'    
GO



create VIEW dbo.ORG_LINE_LIST as    
SELECT 
  org.org_local_id,
  org.org_nm,
  org.org_quick_cd,
  org.org_electronic_ind,
  l.state_short_desc,
  l.cnty_short_desc,
  l.city_short_desc,
  l.zip_cd_5,
  l.street_addr_1,
  l.street_addr_2,
  c.phone_nbr,
  c.phone_ext,
  l.cnty_fips,
  l.state_fips
FROM 
  rdb..organization org,
  rdb..org_location orgl,
  rdb..location l,
  rdb..org_contact orgc,
  rdb..contact_info c
WHERE 
  org.org_key = orgl.org_key  and
  l.location_key = orgl.location_key  and
  orgl.addr_type = 'O'  and
  orgl.address_use = 'WP'  and
  c.contact_key = orgc.contact_key  and
  org.org_key = orgc.org_key  and
  org.org_key > '1'    
GO


CREATE TABLE dbo.EVENT_METRIC
(
  EVENT_TYPE                VARCHAR(50), 
  EVENT_UID                 BIGINT,   
  LOCAL_ID                  VARCHAR(50),
  LOCAL_PATIENT_ID          VARCHAR(50),
  CONDITION_CD		        VARCHAR(50), 
  CONDITION_DESC_TXT        VARCHAR(300), 
  PROG_AREA_CD              VARCHAR(20),
  PROG_AREA_DESC_TXT        VARCHAR(50), 
  PROGRAM_JURISDICTION_OID  BIGINT, 
  JURISDICTION_CD           VARCHAR(20),
  JURISDICTION_DESC_TXT     VARCHAR(255), 
  RECORD_STATUS_CD          VARCHAR(20),
  RECORD_STATUS_DESC_TXT    VARCHAR(300), 
  RECORD_STATUS_TIME        DATETIME,
  ELECTRONIC_IND	        CHAR(1),  
  STATUS_CD                 VARCHAR(20), 
  STATUS_DESC_TXT           VARCHAR(300), 
  STATUS_TIME               DATETIME, 
  ADD_TIME                  DATETIME,
  ADD_USER_ID               BIGINT,
  LAST_CHG_TIME             DATETIME,
  LAST_CHG_USER_ID          BIGINT,
  CASE_CLASS_CD			VARCHAR(20),
  CASE_CLASS_DESC_TXT		VARCHAR(300),
  INVESTIGATION_STATUS_CD	VARCHAR(20),
  INVESTIGATION_STATUS_DESC_TXT	VARCHAR(300),
  ADD_USER_NAME			VARCHAR(300),
  LAST_CHG_USER_NAME		VARCHAR(300)
  CONSTRAINT [PK_EVENT_METRIC] PRIMARY KEY  CLUSTERED
        (
                [EVENT_TYPE], [EVENT_UID]
        )  ON [PRIMARY]
)

GO

CREATE TABLE DBO.HEP100
	( PATIENT_LOCAL_ID				VARCHAR(50) NOT NULL,
	PATIENT_FIRST_NM				VARCHAR(50),
	PATIENT_MIDDLE_NM				VARCHAR(50),
	PATIENT_LAST_NM					VARCHAR(50),					         
	PATIENT_DOB					DATETIME,
	PATIENT_REPORTEDAGE				NUMERIC(8),  
	PATIENT_REPORTED_AGE_UNITS			VARCHAR(50),
	ADDR_USE_CD_DESC				VARCHAR(300),
	ADDR_CD_DESC					VARCHAR(300),
	PATIENT_ADDRESS					VARCHAR(725),  	
	PATIENT_CITY					VARCHAR(100),
	PATIENT_COUNTY 					VARCHAR(300),
	PATIENT_ZIP_CODE				VARCHAR(20), 
	PATIENT_CURR_GENDER				CHAR(1),
	PATIENT_ELECTRONIC_IND				VARCHAR(50),
	RACE 						VARCHAR(500),
	CONDITION_CD					VARCHAR(50),
	CONDITION 					VARCHAR(50),
	PROGRAM_JURISDICTION_OID			NUMERIC(20),
	INV_LOCAL_ID					VARCHAR(50) NOT NULL,
	INVESTIGATION_STATUS				VARCHAR(50),
	INV_CASE_STATUS					VARCHAR(50),
	INV_JURISDICTION_NM				VARCHAR(100),
	RPT_SRC_CD_DESC					VARCHAR(100),
	REPORTING_SOURCE				VARCHAR(100),
	REPORTING_SOURCE_COUNTY				VARCHAR(255),
	REPORTING_SOURCE_CITY				VARCHAR(100),
	REPORTING_SOURCE_STATE				VARCHAR(100),
	REPORTING_SOURCE_ADDRESS_USE			VARCHAR(300),
	REPORTING_SOURCE_ADDRESS_TYPE			VARCHAR(300),
	PHYSICIAN_NAME					VARCHAR(152),
	PHYSICIAN_COUNTY				VARCHAR(255),
	PHYSICIAN_CITY					VARCHAR(100),
	PHYSICIAN_STATE					VARCHAR(100),
	PHYSICIAN_ADDRESS_USE_DESC			VARCHAR(300),
	PHYSICIAN_ADDRESS_TYPE_DESC			VARCHAR(300),
	INVESTIGATOR_NAME				VARCHAR(152),
	HEP_A_TOTAL_ANTIBODY				VARCHAR(50),
	HEP_A_IGM_ANTIBODY				VARCHAR(50),
	HEP_B_SURFACE_ANTIGEN				VARCHAR(50),
	HEP_B_TOTAL_ANTIBODY				VARCHAR(50),
	HEP_B_IGM_ANTIBODY				VARCHAR(50),
	HEP_C_TOTAL_ANTIBODY				VARCHAR(50),
	HEP_D_TOTAL_ANTIBODY				VARCHAR(50),
	HEP_E_TOTAL_ANTIBODY				VARCHAR(50),
	ANTIHCV_SIGNAL_TO_CUTOFF_RATIO			VARCHAR(2000),
	ANTIHCV_SUPPLEMENTAL_ASSAY			VARCHAR(50),
	HCV_RNA						VARCHAR(50),
	ALT_SGPT_RESULT					NUMERIC(11),
	ALT_SGPT_RESULT_UPPER_LIMIT			NUMERIC(11),
	AST_SGOT_RESULT					NUMERIC(11),
	AST_SGOT_RESULT_UPPER_LIMIT			NUMERIC(11),
	ALT_RESULT_DT					DATETIME,
	AST_RESULT_DT					DATETIME,
	INV_START_DT 					DATETIME,
	INV_RPT_DT					DATETIME,
	EARLIEST_RPT_TO_CNTY_DT 			DATETIME,
	EARLIEST_RPT_TO_STATE_DT 			DATETIME,
	DIE_FRM_THIS_ILLNESS_IND 			VARCHAR(50),
	ILLNESS_ONSET_DT				DATETIME,
	DIAGNOSIS_DT					DATETIME,
	HSPTLIZD_IND					VARCHAR(50),
	HSPTL_ADMISSION_DT				DATETIME,
	HSPTL_DISCHARGE_DT				DATETIME,
	HSPTL_DURATION_DAYS				NUMERIC(20),
	OUTBREAK_IND					VARCHAR(50),
	TRANSMISSION_MODE				VARCHAR(50),
	DISEASE_IMPORTED_IND				VARCHAR(50),
	IMPORT_FROM_COUNTRY				VARCHAR(50),
	IMPORT_FROM_STATE				VARCHAR(50),
	IMPORT_FROM_COUNTY				VARCHAR(50),
	IMPORT_FROM_CITY				VARCHAR(2000),
	INV_COMMENTS					VARCHAR(2000),
	CASE_RPT_MMWR_WEEK				NUMERIC(8),
	CASE_RPT_MMWR_YEAR				NUMERIC(8),
	PATIENT_SYMPTOMATIC_IND				VARCHAR(50),
	PATIENT_JUNDICED_IND				VARCHAR(50),
	PATIENT_PREGNANT_IND				VARCHAR(50),
	PATIENT_PREGNANCY_DUE_DT			DATETIME,
	HEP_A_EPLINK_IND				VARCHAR(50),
	HEP_A_CONTACTED_IND				VARCHAR(50),
	D_N_P_EMPLOYEE_IND				VARCHAR(50),
	D_N_P_HOUSEHOLD_CONTACT_IND			VARCHAR(50),
	HEP_A_KEYENT_IN_CHILDCARE_IND			VARCHAR(50),
	HEPA_MALE_SEX_PARTNER_NBR			VARCHAR(50),
	HEPA_FEMALE_SEX_PARTNER_NBR			VARCHAR(50),
	STREET_DRUG_INJECTED_IN_2_6_WK			VARCHAR(50),
	STREET_DRUG_USED_IN_2_6_WK			VARCHAR(50),
	TRAVEL_OUT_USA_CAN_IND				VARCHAR(50),
	HOUSEHOLD_NPP_OUT_USA_CAN			VARCHAR(50),
	PART_OF_AN_OUTBRK_IND				VARCHAR(50),
	ASSOCIATED_OUTBRK_TYPE				VARCHAR(50),
	FOODBORNE_OUTBRK_FOOD_ITEM			VARCHAR(2000),
	FOODHANDLER_2_WK_PRIOR_ONSET			VARCHAR(50),
	HEP_A_VACC_RECEIVED_IND				VARCHAR(50),
	HEP_A_VACC_RECEIVED_DOSE			VARCHAR(50),
	HEP_A_VACC_LAST_RECEIVED_YR			NUMERIC(11),
	IMMUNE_GLOBULIN_RECEIVED_IND			VARCHAR(50),
	GLOBULIN_LAST_RECEIVED_YR			DATETIME,
	HEP_B_CONTACTED_IND				VARCHAR(50),
	HEPB_STD_TREATED_IND				VARCHAR(50),
	HEPB_STD_LAST_TREATMENT_YR			NUMERIC(11),
	STREET_DRUG_INJECTED_IN6WKMON			VARCHAR(50),
	STREET_DRUG_USED_IN6WKMON			VARCHAR(50),
	HEPB_FEMALE_SEX_PARTNER_NBR			VARCHAR(50),
	HEPB_MALE_SEX_PARTNER_NBR			VARCHAR(50),
	HEMODIALYSIS_IN_LAST_6WKMON			VARCHAR(50),
	BLOOD_CONTAMINATION_IN6WKMON			VARCHAR(50),
	HEPB_BLOOD_RECEIVED_IN6WKMON			VARCHAR(50),
	HEPB_BLOOD_RECEIVED_DT				DATETIME,
	OUTPATIENT_IV_INFUSION_IN6WKMO			VARCHAR(50),
	BLOOD_EXPOSURE_IN_LAST6WKMON			VARCHAR(50),
	BLOOD_EXPOSURE_IN6WKMON_OTHER			VARCHAR(2000),
	HEPB_MED_DEN_EMPLOYEE_IN6WKMON			VARCHAR(50),
	HEPB_MED_DEN_BLOOD_CONTACT_FRQ			VARCHAR(50),
	HEPB_PUB_SAFETY_WORKER_IN6WKMO			VARCHAR(50),
	HEPB_PUBSAFETY_BLOODCONTACTFRQ			VARCHAR(50),
	TATTOOED_IN6WKMON_BEFORE_ONSET			VARCHAR(50),
	PIERCING_IN6WKMON_BEFORE_ONSET			VARCHAR(50),
	DEN_WORK_OR_SURGERY_IN6WKMON			VARCHAR(50),
	NON_ORAL_SURGERY_IN6WKMON			VARCHAR(50),
	HSPTLIZD_IN6WKMON_BEFORE_ONSET			VARCHAR(50),
	LONGTERMCARE_RESIDENT_IN6WKMON			VARCHAR(50),
	B_INCARCERATED24PLUSHRSIN6WKMO			VARCHAR(50),
	B_INCARCERATED_6PLUS_MON_IND			VARCHAR(50),
	B_LAST6PLUSMON_INCARCERATE_YR			NUMERIC(8),
	BLAST6PLUSMO_INCARCERATEPERIOD			NUMERIC(8),
	B_LAST_INCARCERATE_PERIOD_UNIT			VARCHAR(50),
	HEP_B_VACC_RECEIVED_IND				VARCHAR(50),
	HEP_B_VACC_SHOT_RECEIVED_NBR			VARCHAR(50),
	HEP_B_VACC_LAST_RECEIVED_YR			NUMERIC(8),
	ANTI_HBSAG_TESTED_IND				VARCHAR(50),
	ANTI_HBS_POSITIVE_REACTIVE_IND			VARCHAR(50),
	HEP_C_CONTACTED_IND				VARCHAR(50),
	MED_DEN_EMPLOYEE_IN_2WK6MO			VARCHAR(50),
	HEPC_MED_DEN_BLOOD_CONTACT_FRQ			VARCHAR(50),
	PUBLIC_SAFETY_WORKER_IN_2WK6MO			VARCHAR(50),
	HEPC_PUBSAFETY_BLOODCONTACTFRQ			VARCHAR(50),
	TATTOOED_IN2WK6MO_BEFORE_ONSET			VARCHAR(50),
	TATTOOED_IN2WK6MO_LOCATION			VARCHAR(50),
	PIERCING_IN2WK6MO_BEFORE_ONSET			VARCHAR(50),
	PIERCING_IN2WK6MO_LOCATION			VARCHAR(50),
	STREET_DRUG_INJECTED_IN_2WK6MO			VARCHAR(50),
	STREET_DRUG_USED_IN_2WK6MO			VARCHAR(50),
	HEMODIALYSIS_IN_LAST_2WK6MO			VARCHAR(50),
	BLOOD_CONTAMINATION_IN_2WK6MO			VARCHAR(50),
	HEPC_BLOOD_RECEIVED_IN_2WK6MO			VARCHAR(50),
	HEPC_BLOOD_RECEIVED_DT				DATETIME,
	BLOOD_EXPOSURE_IN_LAST2WK6MO			VARCHAR(50),
	BLOOD_EXPOSURE_IN2WK6MO_OTHER			VARCHAR(2000),
	DEN_WORK_OR_SURGERY_IN2WK6MO			VARCHAR(50),
	NON_ORAL_SURGERY_IN2WK6MO			VARCHAR(50),
	HSPTLIZD_IN2WK6MO_BEFORE_ONSET			VARCHAR(50),
	LONGTERMCARE_RESIDENT_IN2WK6MO			VARCHAR(50),
	INCARCERATED_24PLUSHRSIN2WK6MO			VARCHAR(50),
	HEPC_FEMALE_SEX_PARTNER_NBR			VARCHAR(50),
	HEPC_MALE_SEX_PARTNER_NBR			VARCHAR(50),
	C_INCARCERATED_6PLUS_MON_IND			VARCHAR(50),
	C_LAST6PLUSMON_INCARCERATE_YR			NUMERIC(11),
	CLAST6PLUSMO_INCARCERATEPERIOD			NUMERIC(11),
	C_LAST_INCARCERATE_PERIOD_UNIT			VARCHAR(50),
	HEPC_STD_TREATED_IND				VARCHAR(50),
	HEPC_STD_LAST_TREATMENT_YR			NUMERIC(11),
	BLOOD_TRANSFUSION_BEFORE_1992			VARCHAR(50),
	ORGAN_TRANSPLANT_BEFORE_1992			VARCHAR(50),
	CLOT_FACTOR_CONCERN_BEFORE1987			VARCHAR(50),
	LONGTERM_HEMODIALYSIS_IND			VARCHAR(50),
	EVER_INJECT_NONPRESCRIBED_DRUG			VARCHAR(50),
	LIFETIME_SEX_PARTNER_NBR 		 	numeric(15,5),
	EVER_INCARCERATED_IND				VARCHAR(50),
	HEPATITIS_CONTACTED_IND				VARCHAR(50),
	HEPATITIS_CONTACT_TYPE				VARCHAR(50),
	HEPATITIS_OTHER_CONTACT_TYPE			VARCHAR(2000),
	HEPC_MED_DEN_EMPLOYEE_IND			VARCHAR(50),
	OUTPATIENT_IV_INFUSIONIN2WK6MO			VARCHAR(50),
	EVENT_DATE					DATETIME,
	HEP_MULTI_VAL_GRP_KEY				numeric,
	INVESTIGATION_KEY			        numeric NOT NULL,
	HEP_B_E_ANTIGEN  varchar(50) NULL,
       	HEP_B_DNA  varchar(50) NULL
	)
GO


ALTER TABLE dbo.HEP100
       ADD PRIMARY KEY (INVESTIGATION_KEY)
GO

ALTER TABLE dbo.HEP100
       ADD FOREIGN KEY (INVESTIGATION_KEY)
                             REFERENCES INVESTIGATION
                             ON DELETE NO ACTION

GO

CREATE TABLE dbo.LAB100( 
 LAB_RPT_LOCAL_ID                                VARCHAR(50) NOT NULL,  
 RESULTED_LAB_TEST_CD                            VARCHAR(50), 
 PROGRAM_JURISDICTION_OID                        NUMERIC(20),
 RECORD_STATUS_CD                                varchar(8), 
 RESULTED_LAB_TEST_CD_DESC                       VARCHAR(1000), 
 RESULTEDTEST_CD_SYS_NM                          VARCHAR(100),
 RESULTEDTEST_VAL_CD                             VARCHAR(20),  
 RESULTEDTEST_VAL_CD_DESC                        VARCHAR(1000),
 NUMERIC_RESULT_WITHUNITS                        VARCHAR(50),
 LAB_RESULT_TXT_VAL                              VARCHAR(2000),
 LAB_RESULT_COMMENTS     VARCHAR(2000),
 RESULT_REF_RANGE_FRM                            VARCHAR(20),
 RESULT_REF_RANGE_TO                             VARCHAR(20), 
 ALT_LAB_TEST_CD                                 VARCHAR(50), 
 ALT_LAB_TEST_CD_DESC                            VARCHAR(1000),  
 ALT_LAB_TEST_CD_SYS_CD                          VARCHAR(50),  
 ALT_LAB_TEST_CD_SYS_NM                          VARCHAR(100),
 PATIENT_KEY                                     numeric, 
 ACCESSION_NBR                                   VARCHAR(100), 
 JURISDICTION_CD                                 VARCHAR(20),
 JURISDICTION_NM                                 VARCHAR(32), 
 ORDERING_FACILITY                               VARCHAR(100),
 REPORTING_FACILITY                              VARCHAR(100),
 LAB_TEST_STATUS                                 VARCHAR(50) ,
 ELR_IND                                         VARCHAR(1), 
 ORDERED_LAB_TEST_CD                             VARCHAR(50),
 ORDERED_LAB_TEST_CD_DESC                        VARCHAR(1000), 
 ORDERED_LABTEST_CD_SYS_NM                       VARCHAR(100), 
 CONDITION_CD                                    VARCHAR(72), 
 CONDITION_SHORT_NM                              VARCHAR(50),
 PROGRAM_AREA_CD                                 VARCHAR(20),
 PROGRAM_AREA_DESC                               VARCHAR(33),
 SPECIMEN_COLLECTION_DT                          DATETIME,
 SPECIMEN_SRC_DESC                               VARCHAR(100),
 SPECIMEN_SRC_CD	                         VARCHAR(50),
 LAB_TEST_DT                                     DATETIME,
 LAB_RPT_CREATED_DT                              DATETIME,
 LAB_RPT_LAST_UPDATE_DT                          DATETIME,
 LAB_RPT_RECEIVED_BY_PH_DT                       DATETIME, 
 LAB_RPT_STATUS                                  VARCHAR(50), 
 REASON_FOR_TEST_DESC                            VARCHAR(1000),
 PERSON_LOCAL_ID                                 VARCHAR(50),
 PERSON_FIRST_NM                                 VARCHAR(50),
 PERSON_MIDDLE_NM                                VARCHAR(50),
 PERSON_LAST_NM                                  VARCHAR(50),
 PERSON_DOB                                      DATETIME,
 AGE_REPORTED                                    numeric,
 PATIENT_REPORTED_AGE_UNITS                      VARCHAR(20),
 PERSON_CURR_GENDER                              VARCHAR(1), 
 PATIENT_ADDRESS                                 VARCHAR(725),
 ADDR_USE_CD_DESC                                VARCHAR(1000),
 ADDR_CD_DESC                                    VARCHAR(1000),
 PATIENT_CITY                                    VARCHAR(50), 
 PATIENT_COUNTY                                  VARCHAR(50), 
 PATIENT_STATE                                   VARCHAR(50),
 PATIENT_ZIP_CODE                                varchar(20), 
 ADDRESS_DATE                                    DATETIME, 
 ORDERING_PROVIDER_NM                            VARCHAR(50),
 PROVIDER_ADDRESS                                VARCHAR(725), 
 PRV_ADDR_USE_CD_DESC                            VARCHAR(1000),
 PRV_ADDR_CD_DESC                                VARCHAR(1000),
 PROVIDER_PHONE                                  VARCHAR(50), 
 LOCATION_KEY                   		 numeric,
 RESULTED_LAB_TEST_KEY				 numeric,
 MORB_RPT_KEY                   		 numeric,
 LDF_GROUP_KEY               		         numeric,
 INVESTIGATION_KEYS           			 VARCHAR(1000),
 EVENT_DATE                                      DATETIME
 )
GO

CREATE TABLE dbo.LAB101( 
CASE_LAB_CONFIRMED_IND 				VARCHAR(8),
EIP_ACTUAL_SHIP_DATE 				DATETIME,
EIP_EXPECTED_SHIP_DATE				DATETIME, 
EIP_ISO_IND 					VARCHAR(8),
EIP_SHIP_LOCATION 				VARCHAR(100),
EIP_SPEC_ACTUAL_RESHIP_DATE 			DATETIME,	
EIP_SPEC_AVAIL_IND 				VARCHAR(50),
EIP_SPEC_EXPECTED_RESHIP_DATE 			DATETIME,
EIP_SPEC_NO_REASON 				VARCHAR(100),
EIP_SPEC_NO_REASON_OTH				VARCHAR(100), 
EIP_SPEC_RESHIP_IND 				VARCHAR(8),
EIP_SPEC_RESHIP_REASON 				VARCHAR(100),
EIP_SPEC_RESHIP_REASON_OTH 			VARCHAR(100),
EVENT_DATE                    			DATETIME,                 
ISO_NO_RECEIVED_REASON 				VARCHAR(100),		
ISO_NO_RECEIVED_REASON_OTH 			VARCHAR(100),
ISO_RECEIVED_DATE 				DATETIME,
ISO_RECEIVED_IND 				VARCHAR(8),
ISO_STATEID_NUM 				VARCHAR(100),
LAB_RPT_LOCAL_ID 				VARCHAR(50),  
NARMS_ACTUAL_SHIP_DATE 				DATETIME,
NARMS_EXPECTED_SHIP_DATE 			DATETIME,
NARMS_ISO_IND 					VARCHAR(8),
NARMS_ISO_SENT_IND 				VARCHAR(8),
NARMS_NO_SENT_REASON 				VARCHAR(100),
NARMS_STATEID_NUM 				VARCHAR(100),
PATIENT_STATUS					VARCHAR(100),
PFGE_PULSENET_ENZYME1 				VARCHAR(100),
PFGE_PULSENET_ENZYME2 				VARCHAR(100),
PFGE_PULSENET_ENZYME3				VARCHAR(100),
PFGE_PULSENET_SENT 				VARCHAR(8),	
PFGE_STATELAB_ENZYME1 				VARCHAR(100),
PFGE_STATELAB_ENZYME2 				VARCHAR(100),
PFGE_STATELAB_ENZYME3				VARCHAR(100),
PROGRAM_JURISDICTION_OID                     	NUMERIC(20),
PULSENET_ISO_IND 				VARCHAR(8),
RECORD_STATUS_CD 				VARCHAR(8),
RESULTED_LAB_TEST_CD_DESC			VARCHAR(100),
RESULTED_LAB_TEST_KEY				numeric,
SPECIMEN_COLLECTION_DT				DATETIME,
SPECIMEN_SRC_DESC				VARCHAR(100),
SPECIMEN_SRC_CD					VARCHAR(100),
TRACK_ISO_IND 					VARCHAR(8),
ISO_SENT_CDC_IND				VARCHAR(8)
)
GO


CREATE TABLE dbo.[SR100] (
	[LOCAL_ID] [varchar] (50)  NOT NULL ,
	[MMWRWK] numeric  NOT NULL ,
	[MMWRYR] numeric  NOT NULL ,
	[NBR_CASES] [numeric](8, 0) NULL ,
	[CONDITION_CD] [varchar] (50)  NOT NULL ,
	[CONDITION] [varchar] (300)  NOT NULL ,
	[COUNTY_CD] [varchar] (50) NOT NULL ,
	[COUNTY_NAME] [varchar] (300) NOT NULL ,
	[STATE_CD] [varchar] (50)  NOT NULL ,
	[RPT_SOURCE] [varchar] (100)  NULL ,
	[RPT_SOURCE_DESC] [varchar] (300)  NULL ,
	[DATE_REPORTED] [datetime] NOT NULL ,
	[MONTH_REPORTED] [varchar] (20)  NOT NULL ,
	[NOTIF_CREATE_DATE] [datetime] NULL ,
        [NOTIF_CREATE_MONTH] [varchar] (20)  NULL ,
        [NOTIF_CREATE_YEAR] [numeric] (4, 0) NULL ,
	[REPORT_COMMENTS] [varchar] (2000)  NULL,
        [DATE_ADDED] [datetime] NOT NULL ,
        [ADD_USER_NAME] [varchar] (300)  NOT NULL,
        [INVESTIGATION_KEY] [numeric](8, 0) NOT NULL
) ON [PRIMARY]
GO

--View Code added on 3/8/2005

CREATE VIEW dbo.Lab_Test_Report
AS 
SELECT  TOP 100 PERCENT
	lt.ROOT_ORDERED_TEST_PNTR, 
	lt.PARENT_TEST_PNTR, 
	lt.LAB_TEST_PNTR, 
	org1.ORG_NM AS reporting_facility, 
	org2.ORG_NM AS ordering_facility, 
	cond.PROGRAM_AREA_CD, 
	cond.PROGRAM_AREA_DESC, 
	lt.JURISDICTION_CD, 
	lt.JURISDICTION_NM, 
	lt.LAB_RPT_CREATED_DT AS lab_rpt_dt, 
	lt.LAB_RPT_RECEIVED_BY_PH_DT, 
	lt.ACCESSION_NBR, 
	lt.SPECIMEN_SRC, 
	lt.SPECIMEN_SITE, 
	lt.SPECIMEN_SITE_DESC, 
	lt.SPECIMEN_COLLECTION_DT, 
	lt.ROOT_ORDERED_TEST_NM AS ordered_test_nm, 
	lt.LAB_TEST_CD_DESC AS lab_test_nm, 
	lt.LAB_TEST_DT AS resulted_dt, 
	lt.LAB_TEST_STATUS, 
	lt.SPECIMEN_DESC, 
	lt.LAB_TEST_TYPE, 
	lt.OID AS program_jurisdiction_oid, 
	lt.LAB_RPT_SHARE_IND AS shared_ind, 
	lrv.NUMERIC_RESULT AS numeric_result_val, 
             lrv.Result_Units,
	lrv.LAB_RESULT_TXT_VAL AS text_result_val, 
	lrv.REF_RANGE_FRM, 
	lrv.REF_RANGE_TO, 
	lrv.TEST_RESULT_VAL_CD AS coded_result_val, 
	lrv.TEST_RESULT_VAL_CD_DESC AS coded_result_val_desc, 
	per1.PERSON_FIRST_NM AS patient_first_nm, 
	per1.PERSON_MIDDLE_NM AS patient_middle_nm, 
	per1.PERSON_LAST_NM AS patient_last_nm, 
	per1.PERSON_NM_SUFFIX AS patient_nm_suffix, 
	per2.PERSON_FIRST_NM AS provider_first_nm, 
	per2.PERSON_MIDDLE_NM AS provider_middle_nm, 
	per2.PERSON_LAST_NM AS provider_last_nm, 
	per2.PERSON_NM_PREFIX AS provider_nm_prefix, 
	per2.PERSON_NM_SUFFIX AS provider_nm_suffix, 
	loc.STREET_ADDR_1, 
	loc.STREET_ADDR_2, 
	loc.CITY_FIPS AS city_cd, 
	loc.CITY_SHORT_DESC AS city_desc, 
	loc.STATE_FIPS AS state_cd, 
	loc.STATE_SHORT_DESC AS state_desc, 
	loc.ZIP_CD_5 AS zip_cd, 
	loc.ZIP_SHORT_DESC AS zip_cd_desc,
	ltr.RECORD_STATUS_CD AS record_status_cd
FROM         
	LAB_TEST lt 
	INNER JOIN 	LAB_TEST_RESULT ltr 
		ON lt.LAB_TEST_KEY = ltr.LAB_TEST_KEY 
		AND ltr.PATIENT_KEY <> 1 
	INNER JOIN	TEST_RESULT_GROUPING trg 
		ON trg.TEST_RESULT_GRP_KEY = ltr.TEST_RESULT_GRP_KEY 
	INNER JOIN	LAB_RESULT_VAL lrv 
		ON trg.TEST_RESULT_GRP_KEY = lrv.TEST_RESULT_GRP_KEY 
	INNER JOIN	CONDITION cond 
		ON cond.CONDITION_KEY = ltr.CONDITION_KEY 
	INNER JOIN 	PERSON per1 
		ON per1.PERSON_KEY = ltr.PATIENT_KEY 
	INNER JOIN	PERSON_LOCATION perloc 
		ON per1.PERSON_KEY = perloc.PERSON_KEY 
	INNER JOIN	PERSON per2 
		ON per2.PERSON_KEY = ltr.ORDERING_PROVIDER_KEY 
	INNER JOIN	LOCATION loc 
		ON loc.LOCATION_KEY = perloc.LOCATION_KEY 
	INNER JOIN	ORGANIZATION org1 
		ON org1.ORG_KEY = ltr.REPORTING_LAB_KEY 
	INNER JOIN	ORGANIZATION org2 
		ON org2.ORG_KEY = ltr.ORDERING_ORG_KEY
ORDER BY lt.ROOT_ORDERED_TEST_PNTR, lt.PARENT_TEST_PNTR, lt.LAB_TEST_PNTR

GO

CREATE TABLE dbo.F_TB_PAM (
	PERSON_KEY numeric NOT NULL ,
	D_TB_PAM_KEY numeric NOT NULL ,
	PROVIDER_KEY numeric NOT NULL ,
	D_MOVE_STATE_GROUP_KEY numeric NOT NULL ,
	D_HC_PROV_TY_3_GROUP_KEY numeric NOT NULL ,
	D_DISEASE_SITE_GROUP_KEY numeric NOT NULL ,
	D_ADDL_RISK_GROUP_KEY numeric NOT NULL ,
	D_MOVE_CNTY_GROUP_KEY numeric NOT NULL ,
	D_GT_12_REAS_GROUP_KEY numeric NOT NULL ,
	D_MOVE_CNTRY_GROUP_KEY numeric NOT NULL ,
	D_MOVED_WHERE_GROUP_KEY numeric NOT NULL ,
	D_OUT_OF_CNTRY_GROUP_KEY numeric NOT NULL ,
	D_SMR_EXAM_TY_GROUP_KEY numeric NOT NULL ,
	
	CONSTRAINT FK_F_TB_PAM_D_TB_PAM FOREIGN KEY 
	(
		D_TB_PAM_KEY
	) REFERENCES D_TB_PAM (
		D_TB_PAM_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_MOVE_STATE_GROUP FOREIGN KEY 
		(
			D_MOVE_STATE_GROUP_KEY
		) REFERENCES D_MOVE_STATE_GROUP (
			D_MOVE_STATE_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_HC_PROV_TY_3_GROUP FOREIGN KEY 
		(
			D_HC_PROV_TY_3_GROUP_KEY
		) REFERENCES D_HC_PROV_TY_3_GROUP (
			D_HC_PROV_TY_3_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_DISEASE_SITE_GROUP FOREIGN KEY 
		(
			D_DISEASE_SITE_GROUP_KEY
		) REFERENCES D_DISEASE_SITE_GROUP (
			D_DISEASE_SITE_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_ADDL_RISK_GROUP FOREIGN KEY 
		(
			D_ADDL_RISK_GROUP_KEY
		) REFERENCES D_ADDL_RISK_GROUP (
			D_ADDL_RISK_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_MOVE_CNTY_GROUP FOREIGN KEY 
		(
			D_MOVE_CNTY_GROUP_KEY
		) REFERENCES D_MOVE_CNTY_GROUP (
			D_MOVE_CNTY_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_GT_12_REAS_GROUP FOREIGN KEY 
		(
			D_GT_12_REAS_GROUP_KEY
		) REFERENCES D_GT_12_REAS_GROUP (
			D_GT_12_REAS_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_MOVED_WHERE_GROUP FOREIGN KEY 
		(
			D_MOVED_WHERE_GROUP_KEY
		) REFERENCES D_MOVED_WHERE_GROUP (
			D_MOVED_WHERE_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_SMR_EXAM_TY_GROUP FOREIGN KEY 
		(
			D_SMR_EXAM_TY_GROUP_KEY
		) REFERENCES D_SMR_EXAM_TY_GROUP (
			D_SMR_EXAM_TY_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_MOVE_CNTRY_GROUP FOREIGN KEY 
		(
			D_MOVE_CNTRY_GROUP_KEY
		) REFERENCES D_MOVE_CNTRY_GROUP (
			D_MOVE_CNTRY_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_D_OUT_OF_CNTRY_GROUP FOREIGN KEY 
		(
			D_OUT_OF_CNTRY_GROUP_KEY
		) REFERENCES D_OUT_OF_CNTRY_GROUP (
			D_OUT_OF_CNTRY_GROUP_KEY
	),
	CONSTRAINT FK_F_TB_PAM_PERSON FOREIGN KEY 
	(
		PERSON_KEY
	) REFERENCES PERSON (
		PERSON_KEY
	)
) ON [PRIMARY]
GO
CREATE TABLE dbo.F_VAR_PAM (
	PERSON_KEY numeric NOT NULL ,
	D_VAR_PAM_KEY numeric NOT NULL ,
	PROVIDER_KEY numeric NOT NULL ,
	D_PCR_SOURCE_GROUP_KEY numeric NOT NULL,
	D_RASH_LOC_GEN_GROUP_KEY numeric NOT NULL,
	LAST_CHG_TIME           datetime  NULL,
	hospital_key NUMERIC NOT NULL,
	ORG_AS_REPORTER_KEY NUMERIC NOT NULL,
	PERSON_AS_REPORTER_KEY NUMERIC NOT NULL,
	CONSTRAINT FK_F_PCR_SOURCE_GROUP FOREIGN KEY 
		(
			D_PCR_SOURCE_GROUP_KEY
		) REFERENCES D_PCR_SOURCE_GROUP (
			D_PCR_SOURCE_GROUP_KEY
	),
	CONSTRAINT FK_F_RASH_LOC_GEN_GROUP FOREIGN KEY 
		(
			D_RASH_LOC_GEN_GROUP_KEY
		) REFERENCES D_RASH_LOC_GEN_GROUP (
			D_RASH_LOC_GEN_GROUP_KEY
	),
	CONSTRAINT FK_F_VAR_PAM_D_VAR_PAM FOREIGN KEY 
	(
		D_VAR_PAM_KEY
	) REFERENCES D_VAR_PAM (
		D_VAR_PAM_KEY
	),
	CONSTRAINT FK_F_VAR_PAM_PERSON FOREIGN KEY 
	(
		PERSON_KEY
	) REFERENCES PERSON (
		PERSON_KEY
	),
	CONSTRAINT FK_F_VAR_PAM_PERSON_REPORTER FOREIGN KEY 
	(
		PERSON_AS_REPORTER_KEY
	) REFERENCES PERSON (
		PERSON_KEY
	),
	CONSTRAINT FK_F_VAR_PAM_HOSPITAL FOREIGN KEY 
	(
		hospital_key
	) REFERENCES ORGANIZATION (
		ORG_KEY
	),
	CONSTRAINT FK_F_VAR_PAM_ORG_REPORTER FOREIGN KEY 
	(
		ORG_AS_REPORTER_KEY
	) REFERENCES ORGANIZATION (
		ORG_KEY
	)
) ON [PRIMARY]
GO














